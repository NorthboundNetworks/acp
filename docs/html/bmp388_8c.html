<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ACP - Autonomous Command Protocol: /Users/paulzanna/Github/Scout/src/sensors/bmp388.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ACP - Autonomous Command Protocol<span id="projectnumber">&#160;v0.3.0</span>
   </div>
   <div id="projectbrief">Portable C99 framing library with COBS, CRC16, and HMAC-SHA256 authentication</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('bmp388_8c.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">bmp388.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>BMP388 barometric pressure sensor driver with drift filter and health checks.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="bmp388_8h_source.html">bmp388.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="bus__io_8h_source.html">bus_io.h</a>&quot;</code><br />
<code>#include &quot;scout_types.h&quot;</code><br />
<code>#include &quot;esp_log.h&quot;</code><br />
<code>#include &quot;freertos/FreeRTOS.h&quot;</code><br />
<code>#include &quot;freertos/task.h&quot;</code><br />
<code>#include &quot;driver/spi_master.h&quot;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
</div>
<p><a href="bmp388_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:bmp388_5Fcalib_5Ft" id="r_bmp388_5Fcalib_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbmp388__calib__t.html">bmp388_calib_t</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aea223eba68883b11ed14ce079fa71959" id="r_aea223eba68883b11ed14ce079fa71959"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aea223eba68883b11ed14ce079fa71959">BMP388_REG_CHIP_ID</a>&#160;&#160;&#160;0x00</td></tr>
<tr class="memitem:a94419bdc922205c3e1df9ee68e178584" id="r_a94419bdc922205c3e1df9ee68e178584"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a94419bdc922205c3e1df9ee68e178584">BMP388_REG_ERR_REG</a>&#160;&#160;&#160;0x02</td></tr>
<tr class="memitem:a87aeef0f00fc9f9ad7f5d77770354c5f" id="r_a87aeef0f00fc9f9ad7f5d77770354c5f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a87aeef0f00fc9f9ad7f5d77770354c5f">BMP388_REG_STATUS</a>&#160;&#160;&#160;0x03</td></tr>
<tr class="memitem:a7f4f87c0829afcd086db1b80206acda7" id="r_a7f4f87c0829afcd086db1b80206acda7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7f4f87c0829afcd086db1b80206acda7">BMP388_REG_DATA_0</a>&#160;&#160;&#160;0x04</td></tr>
<tr class="memitem:aa27b31ec56b78e0778c004086a0476f3" id="r_aa27b31ec56b78e0778c004086a0476f3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa27b31ec56b78e0778c004086a0476f3">BMP388_REG_PWR_CTRL</a>&#160;&#160;&#160;0x1B</td></tr>
<tr class="memitem:ac9027b2cd121710984114de6976648c5" id="r_ac9027b2cd121710984114de6976648c5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac9027b2cd121710984114de6976648c5">BMP388_REG_OSR</a>&#160;&#160;&#160;0x1C</td></tr>
<tr class="memitem:aa8d36867cce036d27fa4d73b1154db2b" id="r_aa8d36867cce036d27fa4d73b1154db2b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa8d36867cce036d27fa4d73b1154db2b">BMP388_REG_ODR</a>&#160;&#160;&#160;0x1D</td></tr>
<tr class="memitem:a1c52e7e2a236395726786c8b488de38d" id="r_a1c52e7e2a236395726786c8b488de38d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1c52e7e2a236395726786c8b488de38d">BMP388_REG_CONFIG</a>&#160;&#160;&#160;0x1F</td></tr>
<tr class="memitem:af5d30b2c63753756be1b05155285e701" id="r_af5d30b2c63753756be1b05155285e701"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af5d30b2c63753756be1b05155285e701">BMP388_REG_CMD</a>&#160;&#160;&#160;0x7E</td></tr>
<tr class="memitem:a083c97aa387e3138a5582f55048ad838" id="r_a083c97aa387e3138a5582f55048ad838"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a083c97aa387e3138a5582f55048ad838">BMP388_REG_CALIB_T1_LSB</a>&#160;&#160;&#160;0x31</td></tr>
<tr class="memitem:a617618445c2c69c185db41ea1e4a3649" id="r_a617618445c2c69c185db41ea1e4a3649"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a617618445c2c69c185db41ea1e4a3649">BMP388_REG_CALIB_T1_MSB</a>&#160;&#160;&#160;0x32</td></tr>
<tr class="memitem:a953eba345562a8fd7e052bdbfa33829f" id="r_a953eba345562a8fd7e052bdbfa33829f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a953eba345562a8fd7e052bdbfa33829f">BMP388_REG_CALIB_T2_LSB</a>&#160;&#160;&#160;0x33</td></tr>
<tr class="memitem:a55516c1456aaa9392de21f645713f0fd" id="r_a55516c1456aaa9392de21f645713f0fd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a55516c1456aaa9392de21f645713f0fd">BMP388_REG_CALIB_T2_MSB</a>&#160;&#160;&#160;0x34</td></tr>
<tr class="memitem:a1c4adbbb4d8584e8faa78e515dbf7982" id="r_a1c4adbbb4d8584e8faa78e515dbf7982"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1c4adbbb4d8584e8faa78e515dbf7982">BMP388_REG_CALIB_T3</a>&#160;&#160;&#160;0x35</td></tr>
<tr class="memitem:ab146f392ab998e13040cb092491799a0" id="r_ab146f392ab998e13040cb092491799a0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab146f392ab998e13040cb092491799a0">BMP388_REG_CALIB_P1_LSB</a>&#160;&#160;&#160;0x36</td></tr>
<tr class="memitem:a9cec4fbac9bb6bc2a0d6947911bcdb47" id="r_a9cec4fbac9bb6bc2a0d6947911bcdb47"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9cec4fbac9bb6bc2a0d6947911bcdb47">BMP388_REG_CALIB_P1_MSB</a>&#160;&#160;&#160;0x37</td></tr>
<tr class="memitem:a1cc200a150f137c509c66b55802cd8c0" id="r_a1cc200a150f137c509c66b55802cd8c0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1cc200a150f137c509c66b55802cd8c0">BMP388_CHIP_ID</a>&#160;&#160;&#160;0x50</td></tr>
<tr class="memitem:a412f03b7263456031c32c50d0a092966" id="r_a412f03b7263456031c32c50d0a092966"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a412f03b7263456031c32c50d0a092966">BMP388_PWR_CTRL_PRESS_EN</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="memitem:a69f5aa259d0a1af507077496e6835fe1" id="r_a69f5aa259d0a1af507077496e6835fe1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a69f5aa259d0a1af507077496e6835fe1">BMP388_PWR_CTRL_TEMP_EN</a>&#160;&#160;&#160;0x02</td></tr>
<tr class="memitem:aba0061646cc19f297892e1f5c555aec4" id="r_aba0061646cc19f297892e1f5c555aec4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba0061646cc19f297892e1f5c555aec4">BMP388_PWR_CTRL_MODE_SLEEP</a>&#160;&#160;&#160;0x00</td></tr>
<tr class="memitem:ab958791929f8c65632d2513c19b62c8b" id="r_ab958791929f8c65632d2513c19b62c8b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab958791929f8c65632d2513c19b62c8b">BMP388_PWR_CTRL_MODE_FORCED</a>&#160;&#160;&#160;0x10</td></tr>
<tr class="memitem:ab0fe5d65b8c64a1c3e09b780f5dc525f" id="r_ab0fe5d65b8c64a1c3e09b780f5dc525f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab0fe5d65b8c64a1c3e09b780f5dc525f">BMP388_PWR_CTRL_MODE_NORMAL</a>&#160;&#160;&#160;0x30</td></tr>
<tr class="memitem:a42374e7c38ac3f7f9fd514781c9be039" id="r_a42374e7c38ac3f7f9fd514781c9be039"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a42374e7c38ac3f7f9fd514781c9be039">BMP388_OSR_PRESS_x16</a>&#160;&#160;&#160;0x04</td></tr>
<tr class="memitem:a6d23bb7c91713b66d02614b377654321" id="r_a6d23bb7c91713b66d02614b377654321"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6d23bb7c91713b66d02614b377654321">BMP388_OSR_TEMP_x2</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="memitem:a153ac5875708d8dfac391568bc6a2138" id="r_a153ac5875708d8dfac391568bc6a2138"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a153ac5875708d8dfac391568bc6a2138">BMP388_STATUS_CMD_RDY</a>&#160;&#160;&#160;0x10</td></tr>
<tr class="memitem:aeb961e3b3b63423596e6bb7430b4b766" id="r_aeb961e3b3b63423596e6bb7430b4b766"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb961e3b3b63423596e6bb7430b4b766">BMP388_STATUS_PRESS_RDY</a>&#160;&#160;&#160;0x20</td></tr>
<tr class="memitem:a164d3a52cf8d2defcf62b7136841d971" id="r_a164d3a52cf8d2defcf62b7136841d971"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a164d3a52cf8d2defcf62b7136841d971">BMP388_STATUS_TEMP_RDY</a>&#160;&#160;&#160;0x40</td></tr>
<tr class="memitem:aa4524a2f783d0931b56fb110c8bb9c07" id="r_aa4524a2f783d0931b56fb110c8bb9c07"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa4524a2f783d0931b56fb110c8bb9c07">BMP388_CMD_SOFT_RESET</a>&#160;&#160;&#160;0xB6</td></tr>
<tr class="memitem:ae2fd6356fda3a233d34291e2ac40f768" id="r_ae2fd6356fda3a233d34291e2ac40f768"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae2fd6356fda3a233d34291e2ac40f768">BMP388_SEA_LEVEL_PA</a>&#160;&#160;&#160;101325.0f</td></tr>
<tr class="memitem:a5444e897c5d644b7d40306d7ec2ee055" id="r_a5444e897c5d644b7d40306d7ec2ee055"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5444e897c5d644b7d40306d7ec2ee055">BMP388_DRIFT_FILTER_SIZE</a>&#160;&#160;&#160;10</td></tr>
<tr class="memitem:a1db5d4f84bdcefcffc1c8ab43973b7b8" id="r_a1db5d4f84bdcefcffc1c8ab43973b7b8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1db5d4f84bdcefcffc1c8ab43973b7b8">BMP388_MAX_DRIFT_PA_PER_MIN</a>&#160;&#160;&#160;16.67f</td></tr>
<tr class="memitem:acd8a0c6c98bc25b1645a7033f69b410f" id="r_acd8a0c6c98bc25b1645a7033f69b410f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acd8a0c6c98bc25b1645a7033f69b410f">BMP388_SPIKE_THRESHOLD_3SIGMA</a>&#160;&#160;&#160;3.0f</td></tr>
<tr class="memitem:aef53b543734281cd8722e2073804b7d7" id="r_aef53b543734281cd8722e2073804b7d7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aef53b543734281cd8722e2073804b7d7">BMP388_MIN_TEMP_C</a>&#160;&#160;&#160;-40.0f</td></tr>
<tr class="memitem:a93439ed1ace1855a93e0d5e6c062e166" id="r_a93439ed1ace1855a93e0d5e6c062e166"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a93439ed1ace1855a93e0d5e6c062e166">BMP388_MAX_TEMP_C</a>&#160;&#160;&#160;85.0f</td></tr>
<tr class="memitem:adaa814d797329cd6ea90671bb69b149d" id="r_adaa814d797329cd6ea90671bb69b149d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adaa814d797329cd6ea90671bb69b149d">BMP388_HEALTH_CHECK_INTERVAL_MS</a>&#160;&#160;&#160;1000</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a69ec198ad283c82040744bfec927e4de" id="r_a69ec198ad283c82040744bfec927e4de"><td class="memItemLeft" align="right" valign="top">static esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a69ec198ad283c82040744bfec927e4de">bmp388_write_register</a> (uint8_t reg, uint8_t value)</td></tr>
<tr class="memitem:ac0464f5ff073473f01b882ee55576590" id="r_ac0464f5ff073473f01b882ee55576590"><td class="memItemLeft" align="right" valign="top">static esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac0464f5ff073473f01b882ee55576590">bmp388_read_register</a> (uint8_t reg, uint8_t *value)</td></tr>
<tr class="memitem:ac8ea20db92ab53738692d32987ca6a1c" id="r_ac8ea20db92ab53738692d32987ca6a1c"><td class="memItemLeft" align="right" valign="top">static esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8ea20db92ab53738692d32987ca6a1c">bmp388_read_registers</a> (uint8_t reg, uint8_t *data, size_t len)</td></tr>
<tr class="memitem:a99d3310d2eea633589c72afe298cca84" id="r_a99d3310d2eea633589c72afe298cca84"><td class="memItemLeft" align="right" valign="top">static esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a99d3310d2eea633589c72afe298cca84">bmp388_read_calibration</a> (void)</td></tr>
<tr class="memitem:a6dc7c482ba3c35061ca78d8766efdf09" id="r_a6dc7c482ba3c35061ca78d8766efdf09"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6dc7c482ba3c35061ca78d8766efdf09">bmp388_update_health</a> (<a class="el" href="structbmp388__t.html">bmp388_t</a> *dev)</td></tr>
<tr class="memitem:a5f12fb465332ff3f688e8ce52b2f582f" id="r_a5f12fb465332ff3f688e8ce52b2f582f"><td class="memItemLeft" align="right" valign="top">static esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5f12fb465332ff3f688e8ce52b2f582f">bmp388_self_test</a> (<a class="el" href="structbmp388__t.html">bmp388_t</a> *dev)</td></tr>
<tr class="memitem:ab7deefac36a49f052236023fcac79546" id="r_ab7deefac36a49f052236023fcac79546"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab7deefac36a49f052236023fcac79546">bmp388_compensate_temperature</a> (uint32_t raw_temp)</td></tr>
<tr class="memitem:aa83a7ea9442bfa63c1088563549819fc" id="r_aa83a7ea9442bfa63c1088563549819fc"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa83a7ea9442bfa63c1088563549819fc">bmp388_compensate_pressure</a> (uint32_t raw_press, float t_fine)</td></tr>
<tr class="memitem:a768440b58b9a7f8c1a441d342f90c94d" id="r_a768440b58b9a7f8c1a441d342f90c94d"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a768440b58b9a7f8c1a441d342f90c94d">bmp388_calculate_altitude</a> (float pressure)</td></tr>
<tr class="memitem:ac76b2f84a998e51d74d351b106c6b73c" id="r_ac76b2f84a998e51d74d351b106c6b73c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac76b2f84a998e51d74d351b106c6b73c">bmp388_update_drift_filter</a> (float pressure)</td></tr>
<tr class="memitem:a87f3f4b196fae3ced9f8989837532dfd" id="r_a87f3f4b196fae3ced9f8989837532dfd"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a87f3f4b196fae3ced9f8989837532dfd">bmp388_detect_spike</a> (float pressure)</td></tr>
<tr class="memitem:af8528259c11e98120daaa30aca6b2749" id="r_af8528259c11e98120daaa30aca6b2749"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af8528259c11e98120daaa30aca6b2749">bmp388_init</a> (<a class="el" href="structbmp388__t.html">bmp388_t</a> *dev)</td></tr>
<tr class="memdesc:af8528259c11e98120daaa30aca6b2749"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize BMP388 device.  <br /></td></tr>
<tr class="memitem:a3d5a87fdd660af69eaaa54dd67b48ab5" id="r_a3d5a87fdd660af69eaaa54dd67b48ab5"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3d5a87fdd660af69eaaa54dd67b48ab5">bmp388_read_raw</a> (<a class="el" href="structbmp388__t.html">bmp388_t</a> *dev, <a class="el" href="structbmp388__raw__data__t.html">bmp388_raw_data_t</a> *raw_data)</td></tr>
<tr class="memdesc:a3d5a87fdd660af69eaaa54dd67b48ab5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read raw sensor data from BMP388.  <br /></td></tr>
<tr class="memitem:a26f62d8e4dbca027364d8ea95e556b38" id="r_a26f62d8e4dbca027364d8ea95e556b38"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a26f62d8e4dbca027364d8ea95e556b38">bmp388_read_scaled</a> (<a class="el" href="structbmp388__t.html">bmp388_t</a> *dev, <a class="el" href="structbmp388__data__t.html">bmp388_data_t</a> *data)</td></tr>
<tr class="memdesc:a26f62d8e4dbca027364d8ea95e556b38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read scaled sensor data from BMP388.  <br /></td></tr>
<tr class="memitem:a4cdcaf0a752ab0d672b2a022626d6170" id="r_a4cdcaf0a752ab0d672b2a022626d6170"><td class="memItemLeft" align="right" valign="top">sensor_health_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4cdcaf0a752ab0d672b2a022626d6170">bmp388_get_health</a> (<a class="el" href="structbmp388__t.html">bmp388_t</a> *dev)</td></tr>
<tr class="memdesc:a4cdcaf0a752ab0d672b2a022626d6170"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current health status of BMP388.  <br /></td></tr>
<tr class="memitem:a7e58644333b2721b2df75262903fbb66" id="r_a7e58644333b2721b2df75262903fbb66"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7e58644333b2721b2df75262903fbb66">bmp388_get_last_error</a> (<a class="el" href="structbmp388__t.html">bmp388_t</a> *dev)</td></tr>
<tr class="memdesc:a7e58644333b2721b2df75262903fbb66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get last error message.  <br /></td></tr>
<tr class="memitem:a6239a672a1212953c5733a1826e0fee8" id="r_a6239a672a1212953c5733a1826e0fee8"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6239a672a1212953c5733a1826e0fee8">bmp388_get_drift_rate_pa_per_min</a> (void)</td></tr>
<tr class="memdesc:a6239a672a1212953c5733a1826e0fee8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current pressure drift rate.  <br /></td></tr>
<tr class="memitem:a09beb152cf2ca4c31bffcabc8de28e43" id="r_a09beb152cf2ca4c31bffcabc8de28e43"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbmp388__t.html">bmp388_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a09beb152cf2ca4c31bffcabc8de28e43">bmp388_get_instance</a> (void)</td></tr>
<tr class="memdesc:a09beb152cf2ca4c31bffcabc8de28e43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get global BMP388 instance.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5a85b9c772bbeb480b209a3e6ea92b4c" id="r_a5a85b9c772bbeb480b209a3e6ea92b4c"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5a85b9c772bbeb480b209a3e6ea92b4c">TAG</a> = &quot;bmp388&quot;</td></tr>
<tr class="memitem:ad14e19e56dd1fbe8815f07505119eb74" id="r_ad14e19e56dd1fbe8815f07505119eb74"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structbmp388__t.html">bmp388_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad14e19e56dd1fbe8815f07505119eb74">g_bmp388</a> = {0}</td></tr>
<tr class="memitem:ae51dbc7e8f836d942c158d75aa6e345b" id="r_ae51dbc7e8f836d942c158d75aa6e345b"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae51dbc7e8f836d942c158d75aa6e345b">g_initialized</a> = false</td></tr>
<tr class="memitem:aa315cfd146230b8c9ab337b0480e7f7c" id="r_aa315cfd146230b8c9ab337b0480e7f7c"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa315cfd146230b8c9ab337b0480e7f7c">g_last_health_check</a> = 0</td></tr>
<tr class="memitem:aff94c19be47ad974076f751b7a3642eb" id="r_aff94c19be47ad974076f751b7a3642eb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structbmp388__calib__t.html">bmp388_calib_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aff94c19be47ad974076f751b7a3642eb">g_calib</a> = {0}</td></tr>
<tr class="memitem:a8e0fa991a6132e5ca3978a8bccf9fbb8" id="r_a8e0fa991a6132e5ca3978a8bccf9fbb8"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8e0fa991a6132e5ca3978a8bccf9fbb8">g_drift_filter</a> [10] = {0}</td></tr>
<tr class="memitem:ac010fff811257700c5053293049aec86" id="r_ac010fff811257700c5053293049aec86"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac010fff811257700c5053293049aec86">g_filter_index</a> = 0</td></tr>
<tr class="memitem:a1b576a4400ad8e97c9243e75096e4167" id="r_a1b576a4400ad8e97c9243e75096e4167"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1b576a4400ad8e97c9243e75096e4167">g_filter_full</a> = false</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>BMP388 barometric pressure sensor driver with drift filter and health checks. </p>
<p>Implements SPI communication with BMP388 barometric pressure sensor. Provides health monitoring, drift filtering, and altitude calculation. </p>

<p class="definition">Definition in file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>
</div><a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="a1cc200a150f137c509c66b55802cd8c0" name="a1cc200a150f137c509c66b55802cd8c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cc200a150f137c509c66b55802cd8c0">&#9670;&#160;</a></span>BMP388_CHIP_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_CHIP_ID&#160;&#160;&#160;0x50</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00045">45</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="aa4524a2f783d0931b56fb110c8bb9c07" name="aa4524a2f783d0931b56fb110c8bb9c07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4524a2f783d0931b56fb110c8bb9c07">&#9670;&#160;</a></span>BMP388_CMD_SOFT_RESET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_CMD_SOFT_RESET&#160;&#160;&#160;0xB6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00064">64</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a5444e897c5d644b7d40306d7ec2ee055" name="a5444e897c5d644b7d40306d7ec2ee055"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5444e897c5d644b7d40306d7ec2ee055">&#9670;&#160;</a></span>BMP388_DRIFT_FILTER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_DRIFT_FILTER_SIZE&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00070">70</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="adaa814d797329cd6ea90671bb69b149d" name="adaa814d797329cd6ea90671bb69b149d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaa814d797329cd6ea90671bb69b149d">&#9670;&#160;</a></span>BMP388_HEALTH_CHECK_INTERVAL_MS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_HEALTH_CHECK_INTERVAL_MS&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00075">75</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a1db5d4f84bdcefcffc1c8ab43973b7b8" name="a1db5d4f84bdcefcffc1c8ab43973b7b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1db5d4f84bdcefcffc1c8ab43973b7b8">&#9670;&#160;</a></span>BMP388_MAX_DRIFT_PA_PER_MIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_MAX_DRIFT_PA_PER_MIN&#160;&#160;&#160;16.67f</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00071">71</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a93439ed1ace1855a93e0d5e6c062e166" name="a93439ed1ace1855a93e0d5e6c062e166"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93439ed1ace1855a93e0d5e6c062e166">&#9670;&#160;</a></span>BMP388_MAX_TEMP_C</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_MAX_TEMP_C&#160;&#160;&#160;85.0f</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00074">74</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="aef53b543734281cd8722e2073804b7d7" name="aef53b543734281cd8722e2073804b7d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef53b543734281cd8722e2073804b7d7">&#9670;&#160;</a></span>BMP388_MIN_TEMP_C</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_MIN_TEMP_C&#160;&#160;&#160;-40.0f</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00073">73</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a42374e7c38ac3f7f9fd514781c9be039" name="a42374e7c38ac3f7f9fd514781c9be039"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42374e7c38ac3f7f9fd514781c9be039">&#9670;&#160;</a></span>BMP388_OSR_PRESS_x16</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_OSR_PRESS_x16&#160;&#160;&#160;0x04</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00055">55</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a6d23bb7c91713b66d02614b377654321" name="a6d23bb7c91713b66d02614b377654321"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d23bb7c91713b66d02614b377654321">&#9670;&#160;</a></span>BMP388_OSR_TEMP_x2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_OSR_TEMP_x2&#160;&#160;&#160;0x01</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00056">56</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="ab958791929f8c65632d2513c19b62c8b" name="ab958791929f8c65632d2513c19b62c8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab958791929f8c65632d2513c19b62c8b">&#9670;&#160;</a></span>BMP388_PWR_CTRL_MODE_FORCED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_PWR_CTRL_MODE_FORCED&#160;&#160;&#160;0x10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00051">51</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="ab0fe5d65b8c64a1c3e09b780f5dc525f" name="ab0fe5d65b8c64a1c3e09b780f5dc525f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0fe5d65b8c64a1c3e09b780f5dc525f">&#9670;&#160;</a></span>BMP388_PWR_CTRL_MODE_NORMAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_PWR_CTRL_MODE_NORMAL&#160;&#160;&#160;0x30</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00052">52</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="aba0061646cc19f297892e1f5c555aec4" name="aba0061646cc19f297892e1f5c555aec4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba0061646cc19f297892e1f5c555aec4">&#9670;&#160;</a></span>BMP388_PWR_CTRL_MODE_SLEEP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_PWR_CTRL_MODE_SLEEP&#160;&#160;&#160;0x00</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00050">50</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a412f03b7263456031c32c50d0a092966" name="a412f03b7263456031c32c50d0a092966"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a412f03b7263456031c32c50d0a092966">&#9670;&#160;</a></span>BMP388_PWR_CTRL_PRESS_EN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_PWR_CTRL_PRESS_EN&#160;&#160;&#160;0x01</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00048">48</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a69f5aa259d0a1af507077496e6835fe1" name="a69f5aa259d0a1af507077496e6835fe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69f5aa259d0a1af507077496e6835fe1">&#9670;&#160;</a></span>BMP388_PWR_CTRL_TEMP_EN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_PWR_CTRL_TEMP_EN&#160;&#160;&#160;0x02</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00049">49</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="ab146f392ab998e13040cb092491799a0" name="ab146f392ab998e13040cb092491799a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab146f392ab998e13040cb092491799a0">&#9670;&#160;</a></span>BMP388_REG_CALIB_P1_LSB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_REG_CALIB_P1_LSB&#160;&#160;&#160;0x36</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00040">40</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a9cec4fbac9bb6bc2a0d6947911bcdb47" name="a9cec4fbac9bb6bc2a0d6947911bcdb47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cec4fbac9bb6bc2a0d6947911bcdb47">&#9670;&#160;</a></span>BMP388_REG_CALIB_P1_MSB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_REG_CALIB_P1_MSB&#160;&#160;&#160;0x37</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00041">41</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a083c97aa387e3138a5582f55048ad838" name="a083c97aa387e3138a5582f55048ad838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a083c97aa387e3138a5582f55048ad838">&#9670;&#160;</a></span>BMP388_REG_CALIB_T1_LSB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_REG_CALIB_T1_LSB&#160;&#160;&#160;0x31</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00035">35</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a617618445c2c69c185db41ea1e4a3649" name="a617618445c2c69c185db41ea1e4a3649"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a617618445c2c69c185db41ea1e4a3649">&#9670;&#160;</a></span>BMP388_REG_CALIB_T1_MSB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_REG_CALIB_T1_MSB&#160;&#160;&#160;0x32</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00036">36</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a953eba345562a8fd7e052bdbfa33829f" name="a953eba345562a8fd7e052bdbfa33829f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a953eba345562a8fd7e052bdbfa33829f">&#9670;&#160;</a></span>BMP388_REG_CALIB_T2_LSB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_REG_CALIB_T2_LSB&#160;&#160;&#160;0x33</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00037">37</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a55516c1456aaa9392de21f645713f0fd" name="a55516c1456aaa9392de21f645713f0fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55516c1456aaa9392de21f645713f0fd">&#9670;&#160;</a></span>BMP388_REG_CALIB_T2_MSB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_REG_CALIB_T2_MSB&#160;&#160;&#160;0x34</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00038">38</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a1c4adbbb4d8584e8faa78e515dbf7982" name="a1c4adbbb4d8584e8faa78e515dbf7982"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c4adbbb4d8584e8faa78e515dbf7982">&#9670;&#160;</a></span>BMP388_REG_CALIB_T3</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_REG_CALIB_T3&#160;&#160;&#160;0x35</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00039">39</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="aea223eba68883b11ed14ce079fa71959" name="aea223eba68883b11ed14ce079fa71959"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea223eba68883b11ed14ce079fa71959">&#9670;&#160;</a></span>BMP388_REG_CHIP_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_REG_CHIP_ID&#160;&#160;&#160;0x00</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00024">24</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="af5d30b2c63753756be1b05155285e701" name="af5d30b2c63753756be1b05155285e701"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5d30b2c63753756be1b05155285e701">&#9670;&#160;</a></span>BMP388_REG_CMD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_REG_CMD&#160;&#160;&#160;0x7E</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00032">32</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a1c52e7e2a236395726786c8b488de38d" name="a1c52e7e2a236395726786c8b488de38d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c52e7e2a236395726786c8b488de38d">&#9670;&#160;</a></span>BMP388_REG_CONFIG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_REG_CONFIG&#160;&#160;&#160;0x1F</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00031">31</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a7f4f87c0829afcd086db1b80206acda7" name="a7f4f87c0829afcd086db1b80206acda7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f4f87c0829afcd086db1b80206acda7">&#9670;&#160;</a></span>BMP388_REG_DATA_0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_REG_DATA_0&#160;&#160;&#160;0x04</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00027">27</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a94419bdc922205c3e1df9ee68e178584" name="a94419bdc922205c3e1df9ee68e178584"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94419bdc922205c3e1df9ee68e178584">&#9670;&#160;</a></span>BMP388_REG_ERR_REG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_REG_ERR_REG&#160;&#160;&#160;0x02</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00025">25</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="aa8d36867cce036d27fa4d73b1154db2b" name="aa8d36867cce036d27fa4d73b1154db2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8d36867cce036d27fa4d73b1154db2b">&#9670;&#160;</a></span>BMP388_REG_ODR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_REG_ODR&#160;&#160;&#160;0x1D</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00030">30</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="ac9027b2cd121710984114de6976648c5" name="ac9027b2cd121710984114de6976648c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9027b2cd121710984114de6976648c5">&#9670;&#160;</a></span>BMP388_REG_OSR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_REG_OSR&#160;&#160;&#160;0x1C</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00029">29</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="aa27b31ec56b78e0778c004086a0476f3" name="aa27b31ec56b78e0778c004086a0476f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa27b31ec56b78e0778c004086a0476f3">&#9670;&#160;</a></span>BMP388_REG_PWR_CTRL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_REG_PWR_CTRL&#160;&#160;&#160;0x1B</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00028">28</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a87aeef0f00fc9f9ad7f5d77770354c5f" name="a87aeef0f00fc9f9ad7f5d77770354c5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87aeef0f00fc9f9ad7f5d77770354c5f">&#9670;&#160;</a></span>BMP388_REG_STATUS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_REG_STATUS&#160;&#160;&#160;0x03</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00026">26</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="ae2fd6356fda3a233d34291e2ac40f768" name="ae2fd6356fda3a233d34291e2ac40f768"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2fd6356fda3a233d34291e2ac40f768">&#9670;&#160;</a></span>BMP388_SEA_LEVEL_PA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_SEA_LEVEL_PA&#160;&#160;&#160;101325.0f</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00067">67</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="acd8a0c6c98bc25b1645a7033f69b410f" name="acd8a0c6c98bc25b1645a7033f69b410f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd8a0c6c98bc25b1645a7033f69b410f">&#9670;&#160;</a></span>BMP388_SPIKE_THRESHOLD_3SIGMA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_SPIKE_THRESHOLD_3SIGMA&#160;&#160;&#160;3.0f</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00072">72</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a153ac5875708d8dfac391568bc6a2138" name="a153ac5875708d8dfac391568bc6a2138"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a153ac5875708d8dfac391568bc6a2138">&#9670;&#160;</a></span>BMP388_STATUS_CMD_RDY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_STATUS_CMD_RDY&#160;&#160;&#160;0x10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00059">59</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="aeb961e3b3b63423596e6bb7430b4b766" name="aeb961e3b3b63423596e6bb7430b4b766"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb961e3b3b63423596e6bb7430b4b766">&#9670;&#160;</a></span>BMP388_STATUS_PRESS_RDY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_STATUS_PRESS_RDY&#160;&#160;&#160;0x20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00060">60</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a164d3a52cf8d2defcf62b7136841d971" name="a164d3a52cf8d2defcf62b7136841d971"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a164d3a52cf8d2defcf62b7136841d971">&#9670;&#160;</a></span>BMP388_STATUS_TEMP_RDY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BMP388_STATUS_TEMP_RDY&#160;&#160;&#160;0x40</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00061">61</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="a768440b58b9a7f8c1a441d342f90c94d" name="a768440b58b9a7f8c1a441d342f90c94d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a768440b58b9a7f8c1a441d342f90c94d">&#9670;&#160;</a></span>bmp388_calculate_altitude()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float bmp388_calculate_altitude </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>pressure</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00516">516</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="aa83a7ea9442bfa63c1088563549819fc" name="aa83a7ea9442bfa63c1088563549819fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa83a7ea9442bfa63c1088563549819fc">&#9670;&#160;</a></span>bmp388_compensate_pressure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float bmp388_compensate_pressure </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>raw_press</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>t_fine</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00498">498</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="ab7deefac36a49f052236023fcac79546" name="ab7deefac36a49f052236023fcac79546"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7deefac36a49f052236023fcac79546">&#9670;&#160;</a></span>bmp388_compensate_temperature()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float bmp388_compensate_temperature </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>raw_temp</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00488">488</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a87f3f4b196fae3ced9f8989837532dfd" name="a87f3f4b196fae3ced9f8989837532dfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87f3f4b196fae3ced9f8989837532dfd">&#9670;&#160;</a></span>bmp388_detect_spike()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool bmp388_detect_spike </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>pressure</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00533">533</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a6239a672a1212953c5733a1826e0fee8" name="a6239a672a1212953c5733a1826e0fee8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6239a672a1212953c5733a1826e0fee8">&#9670;&#160;</a></span>bmp388_get_drift_rate_pa_per_min()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float bmp388_get_drift_rate_pa_per_min </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get current pressure drift rate. </p>
<p>Calculates pressure drift rate from the moving average filter. Used for health monitoring per SC-011 (1m drift over 10 minutes).</p>
<dl class="section return"><dt>Returns</dt><dd>Pressure drift rate in Pa/minute, or 0.0 if insufficient data </dd></dl>

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00330">330</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a4cdcaf0a752ab0d672b2a022626d6170" name="a4cdcaf0a752ab0d672b2a022626d6170"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cdcaf0a752ab0d672b2a022626d6170">&#9670;&#160;</a></span>bmp388_get_health()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sensor_health_t bmp388_get_health </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbmp388__t.html">bmp388_t</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get current health status of BMP388. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>BMP388 device structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Current sensor health status </dd></dl>

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00310">310</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

<p class="reference">References <a class="el" href="bmp388_8h_source.html#l00046">bmp388_t::health</a>, and <a class="el" href="bmp388_8h_source.html#l00045">bmp388_t::initialized</a>.</p>

</div>
</div>
<a id="a09beb152cf2ca4c31bffcabc8de28e43" name="a09beb152cf2ca4c31bffcabc8de28e43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09beb152cf2ca4c31bffcabc8de28e43">&#9670;&#160;</a></span>bmp388_get_instance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbmp388__t.html">bmp388_t</a> * bmp388_get_instance </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get global BMP388 instance. </p>
<p>Returns pointer to the global BMP388 instance if initialized.</p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to global instance or NULL if not initialized </dd></dl>

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00347">347</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="src_2services_2blackbox_8c_source.html#l00618">blackbox_collect_evidence()</a>, <a class="el" href="src_2services_2blackbox_8c_source.html#l00508">blackbox_log_sensor_summary()</a>, and <a class="el" href="gcs__gateway_8c_source.html#l01300">gcs_gateway_generate_tlm_status()</a>.</p>

</div>
</div>
<a id="a7e58644333b2721b2df75262903fbb66" name="a7e58644333b2721b2df75262903fbb66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e58644333b2721b2df75262903fbb66">&#9670;&#160;</a></span>bmp388_get_last_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * bmp388_get_last_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbmp388__t.html">bmp388_t</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get last error message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>BMP388 device structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to last error message string </dd></dl>

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00320">320</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

<p class="reference">References <a class="el" href="bmp388_8h_source.html#l00047">bmp388_t::last_error</a>.</p>

</div>
</div>
<a id="af8528259c11e98120daaa30aca6b2749" name="af8528259c11e98120daaa30aca6b2749"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8528259c11e98120daaa30aca6b2749">&#9670;&#160;</a></span>bmp388_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t bmp388_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbmp388__t.html">bmp388_t</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize BMP388 device. </p>
<p>Initializes SPI communication, configures the device for 16x pressure oversampling and 2x temperature oversampling, reads calibration coefficients, and performs self-test.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>BMP388 device structure to initialize </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ESP_OK on success, error code otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00118">118</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

<p class="reference">References <a class="el" href="bus__io_8c_source.html#l00077">bus_io_init_spi()</a>, <a class="el" href="bus__io_8c_source.html#l00176">bus_io_init_spi_baro()</a>, <a class="el" href="bmp388_8h_source.html#l00046">bmp388_t::health</a>, <a class="el" href="bmp388_8h_source.html#l00045">bmp388_t::initialized</a>, <a class="el" href="bmp388_8h_source.html#l00047">bmp388_t::last_error</a>, and <a class="el" href="bmp388_8h_source.html#l00044">bmp388_t::spi_handle</a>.</p>

</div>
</div>
<a id="a99d3310d2eea633589c72afe298cca84" name="a99d3310d2eea633589c72afe298cca84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99d3310d2eea633589c72afe298cca84">&#9670;&#160;</a></span>bmp388_read_calibration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t bmp388_read_calibration </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00391">391</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a3d5a87fdd660af69eaaa54dd67b48ab5" name="a3d5a87fdd660af69eaaa54dd67b48ab5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d5a87fdd660af69eaaa54dd67b48ab5">&#9670;&#160;</a></span>bmp388_read_raw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t bmp388_read_raw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbmp388__t.html">bmp388_t</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbmp388__raw__data__t.html">bmp388_raw_data_t</a> *</td>          <td class="paramname"><span class="paramname"><em>raw_data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read raw sensor data from BMP388. </p>
<p>Reads pressure and temperature registers and checks for data ready status. Updates device health status periodically.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>BMP388 device structure </td></tr>
    <tr><td class="paramname">raw_data</td><td>Output buffer for raw sensor data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ESP_OK on success, ESP_ERR_NOT_FINISHED if data not ready, error code otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00222">222</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

<p class="reference">References <a class="el" href="bmp388_8h_source.html#l00046">bmp388_t::health</a>, <a class="el" href="bmp388_8h_source.html#l00045">bmp388_t::initialized</a>, <a class="el" href="bmp388_8h_source.html#l00047">bmp388_t::last_error</a>, <a class="el" href="bmp388_8h_source.html#l00025">bmp388_raw_data_t::pressure</a>, <a class="el" href="bmp388_8h_source.html#l00026">bmp388_raw_data_t::temperature</a>, and <a class="el" href="bmp388_8h_source.html#l00027">bmp388_raw_data_t::timestamp</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmp388_8c_source.html#l00277">bmp388_read_scaled()</a>.</p>

</div>
</div>
<a id="ac0464f5ff073473f01b882ee55576590" name="ac0464f5ff073473f01b882ee55576590"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0464f5ff073473f01b882ee55576590">&#9670;&#160;</a></span>bmp388_read_register()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t bmp388_read_register </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>reg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00369">369</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="ac8ea20db92ab53738692d32987ca6a1c" name="ac8ea20db92ab53738692d32987ca6a1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8ea20db92ab53738692d32987ca6a1c">&#9670;&#160;</a></span>bmp388_read_registers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t bmp388_read_registers </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>reg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00380">380</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a26f62d8e4dbca027364d8ea95e556b38" name="a26f62d8e4dbca027364d8ea95e556b38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26f62d8e4dbca027364d8ea95e556b38">&#9670;&#160;</a></span>bmp388_read_scaled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t bmp388_read_scaled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbmp388__t.html">bmp388_t</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbmp388__data__t.html">bmp388_data_t</a> *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read scaled sensor data from BMP388. </p>
<p>Reads raw data and applies temperature compensation and pressure calibration. Calculates altitude using standard atmosphere model. Updates drift filter and performs spike detection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>BMP388 device structure </td></tr>
    <tr><td class="paramname">data</td><td>Output buffer for scaled sensor data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ESP_OK on success, error code otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00277">277</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

<p class="reference">References <a class="el" href="bmp388_8h_source.html#l00036">bmp388_data_t::altitude</a>, <a class="el" href="bmp388_8c_source.html#l00222">bmp388_read_raw()</a>, <a class="el" href="bmp388_8h_source.html#l00034">bmp388_data_t::pressure</a>, <a class="el" href="bmp388_8h_source.html#l00025">bmp388_raw_data_t::pressure</a>, <a class="el" href="bmp388_8h_source.html#l00035">bmp388_data_t::temperature</a>, <a class="el" href="bmp388_8h_source.html#l00026">bmp388_raw_data_t::temperature</a>, <a class="el" href="bmp388_8h_source.html#l00037">bmp388_data_t::timestamp</a>, and <a class="el" href="bmp388_8h_source.html#l00027">bmp388_raw_data_t::timestamp</a>.</p>

<p class="reference">Referenced by <a class="el" href="src_2services_2blackbox_8c_source.html#l00618">blackbox_collect_evidence()</a>, <a class="el" href="src_2services_2blackbox_8c_source.html#l00508">blackbox_log_sensor_summary()</a>, and <a class="el" href="gcs__gateway_8c_source.html#l01300">gcs_gateway_generate_tlm_status()</a>.</p>

</div>
</div>
<a id="a5f12fb465332ff3f688e8ce52b2f582f" name="a5f12fb465332ff3f688e8ce52b2f582f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f12fb465332ff3f688e8ce52b2f582f">&#9670;&#160;</a></span>bmp388_self_test()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t bmp388_self_test </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbmp388__t.html">bmp388_t</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00455">455</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="ac76b2f84a998e51d74d351b106c6b73c" name="ac76b2f84a998e51d74d351b106c6b73c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac76b2f84a998e51d74d351b106c6b73c">&#9670;&#160;</a></span>bmp388_update_drift_filter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void bmp388_update_drift_filter </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>pressure</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00522">522</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a6dc7c482ba3c35061ca78d8766efdf09" name="a6dc7c482ba3c35061ca78d8766efdf09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dc7c482ba3c35061ca78d8766efdf09">&#9670;&#160;</a></span>bmp388_update_health()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void bmp388_update_health </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbmp388__t.html">bmp388_t</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00420">420</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a69ec198ad283c82040744bfec927e4de" name="a69ec198ad283c82040744bfec927e4de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69ec198ad283c82040744bfec927e4de">&#9670;&#160;</a></span>bmp388_write_register()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t bmp388_write_register </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>reg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00358">358</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a name="doc-var-members" id="doc-var-members"></a><h2 id="header-doc-var-members" class="groupheader">Variable Documentation</h2>
<a id="ad14e19e56dd1fbe8815f07505119eb74" name="ad14e19e56dd1fbe8815f07505119eb74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad14e19e56dd1fbe8815f07505119eb74">&#9670;&#160;</a></span>g_bmp388</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbmp388__t.html">bmp388_t</a> g_bmp388 = {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00097">97</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="aff94c19be47ad974076f751b7a3642eb" name="aff94c19be47ad974076f751b7a3642eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff94c19be47ad974076f751b7a3642eb">&#9670;&#160;</a></span>g_calib</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbmp388__calib__t.html">bmp388_calib_t</a> g_calib = {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00100">100</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a8e0fa991a6132e5ca3978a8bccf9fbb8" name="a8e0fa991a6132e5ca3978a8bccf9fbb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e0fa991a6132e5ca3978a8bccf9fbb8">&#9670;&#160;</a></span>g_drift_filter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float g_drift_filter[10] = {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00101">101</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a1b576a4400ad8e97c9243e75096e4167" name="a1b576a4400ad8e97c9243e75096e4167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b576a4400ad8e97c9243e75096e4167">&#9670;&#160;</a></span>g_filter_full</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool g_filter_full = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00103">103</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="ac010fff811257700c5053293049aec86" name="ac010fff811257700c5053293049aec86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac010fff811257700c5053293049aec86">&#9670;&#160;</a></span>g_filter_index</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int g_filter_index = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00102">102</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="ae51dbc7e8f836d942c158d75aa6e345b" name="ae51dbc7e8f836d942c158d75aa6e345b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae51dbc7e8f836d942c158d75aa6e345b">&#9670;&#160;</a></span>g_initialized</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool g_initialized = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00098">98</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="aa315cfd146230b8c9ab337b0480e7f7c" name="aa315cfd146230b8c9ab337b0480e7f7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa315cfd146230b8c9ab337b0480e7f7c">&#9670;&#160;</a></span>g_last_health_check</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t g_last_health_check = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00099">99</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
<a id="a5a85b9c772bbeb480b209a3e6ea92b4c" name="a5a85b9c772bbeb480b209a3e6ea92b4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a85b9c772bbeb480b209a3e6ea92b4c">&#9670;&#160;</a></span>TAG</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* TAG = &quot;bmp388&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bmp388_8c_source.html#l00019">19</a> of file <a class="el" href="bmp388_8c_source.html">bmp388.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_f76dd88a88a2d119ab336e5933bd9b31.html">Scout</a></li><li class="navelem"><b>src</b></li><li class="navelem"><a href="dir_cec10a0852ff697c187f1158c8e5874f.html">sensors</a></li><li class="navelem"><a href="bmp388_8c.html">bmp388.c</a></li>
    <li class="footer">Generated on <span class="timestamp"></span> for ACP - Autonomous Command Protocol by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
