<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ACP - Autonomous Command Protocol: Eunice Architecture — v0.5.7</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ACP - Autonomous Command Protocol<span id="projectnumber">&#160;v0.3.0</span>
   </div>
   <div id="projectbrief">Portable C99 framing library with COBS, CRC16, and HMAC-SHA256 authentication</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md__2_users_2paulzanna_2_github_2_eunice_2docs_2_architecture_2_version_01_history_2_eunice___architecture__v0_85_87.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Eunice Architecture — v0.5.7 </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md1394"></a></p>
<p><b>Title:</b> Level Calibration, QA Gates &amp; Continuous Watch <br  />
 <b>Status:</b> Planned <br  />
 <b>Date:</b> 11‑08‑2025 (Australia/Melbourne) <br  />
 <b>Depends on:</b> v0.5.2 (retrieval/dedup/ranking/queue/PRISMA), v0.5.3 (auto‑screen/full‑text/parse), v0.5.4 (extraction v2), v0.5.5 (appraisal), v0.5.6 (synthesis/report)</p>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1396"></a>
1) Objective</h1>
<p>Deliver <b>fully automated, thesis‑grade</b> literature reviews at selectable rigour levels — <b>Undergraduate / Masters / PhD</b> — by:</p>
<ol type="1">
<li>Calibrating <b>level profiles</b> into enforceable, testable <b>QA gates</b> (coverage, recency, diversity, evidence anchoring, determinism, etc.). <br  />
</li>
<li>Running an automated <b>QA pipeline</b> that approves or rejects a synthesis. If rejected, it <b>auto‑iterates</b> (query expansion, threshold tuning) up to a safe limit. <br  />
</li>
<li>Enabling <b>Continuous Watch</b>: scheduled re‑checks of topics and automatic re‑synthesis when new high‑impact studies appear or KPIs drift.</li>
</ol>
<p>Human‑in‑the‑loop is <b>not required</b>; outputs are auditable and reproducible.</p>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1398"></a>
2) High‑level Flow</h1>
<p>Starting from a completed v0.5.6 synthesis (report + bundle):</p>
<p>1) <b>QA run</b> initialises with the chosen <b>level profile</b> and its thresholds. <br  />
 2) Execute <b>QA checks</b> (see §4) on inputs (records/extractions/appraisals), the synthesis artefacts, and the repro bundle. <br  />
 3) If <b>all gates pass</b> → mark review as <b>Approved</b> and publish artefacts. <br  />
 4) If any <b>gate fails</b> → compute <b>auto‑remediations</b> (see §5), re‑run parts of the pipeline (bounded iterations), then re‑evaluate. <br  />
 5) Optionally register a <b>Watch job</b> for the topic to trigger periodic re‑checks.</p>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1400"></a>
3) Scope (Detailed)</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1401"></a>
In scope</h2>
<ul>
<li><b>Level Profiles v2</b> with quantitative QA thresholds (defaults below). <br  />
</li>
<li><b>QA engine</b> that computes metrics, compares against thresholds, and records pass/warn/fail with explanations and links to evidence. <br  />
</li>
<li><b>Auto‑remediation</b> loop: expand queries, widen date/term scopes, relax/tighten screening thresholds, or downgrade quantitative synthesis to qualitative when heterogeneity is excessive. <br  />
</li>
<li><b>Continuous Watch</b> scheduler: periodic search deltas, drift rules, and notifications. <br  />
</li>
<li>Migrations, tools/endpoints, metrics, tests.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1402"></a>
Out of scope</h2>
<ul>
<li>Human adjudication UI, manual edits, or interactive tuning (future UI release). <br  />
</li>
<li>Advanced alerting integrations (email/webhooks optional later).</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1404"></a>
4) QA Checks &amp; Gates</h1>
<p>Each check yields <span class="tt">{status: pass|warn|fail, value, threshold, details}</span> and may include affected IDs (record/claim_set). <b>All PASS</b> required for approval; <b>WARN</b> allowed; <b>FAIL</b> triggers remediation.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">ID  </th><th class="markdownTableHeadNone">Check  </th><th class="markdownTableHeadNone">Definition (default)  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Q1  </td><td class="markdownTableBodyNone"><b>Coverage</b>  </td><td class="markdownTableBodyNone">Unique primary studies ≥ <span class="tt">min_sources[level]</span>.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Q2  </td><td class="markdownTableBodyNone"><b>Recency</b>  </td><td class="markdownTableBodyNone">≥ <span class="tt">recency_ratio[level]</span> of included primary studies within last <span class="tt">years_back[level]</span> years.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Q3  </td><td class="markdownTableBodyNone"><b>Diversity</b>  </td><td class="markdownTableBodyNone">≤ <span class="tt">max_venue_share[level]</span> from any single venue; ≥ <span class="tt">min_publishers[level]</span> publishers.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Q4  </td><td class="markdownTableBodyNone"><b>Evidence anchoring</b>  </td><td class="markdownTableBodyNone">≥ <span class="tt">min_anchor_ratio[level]</span> of <b>quantitative claims</b> carry ≥1 span with checksum.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Q5  </td><td class="markdownTableBodyNone"><b>Extraction integrity</b>  </td><td class="markdownTableBodyNone"><span class="tt">invalid_after_repair_rate ≤ max_invalid_rate[level]</span>.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Q6  </td><td class="markdownTableBodyNone"><b>Appraisal distribution</b>  </td><td class="markdownTableBodyNone">≥ <span class="tt">min_low_tier_share[level]</span> of studies are Low RoB; none of the <b>mandatory criteria</b> (v0.5.5) violated in the final evidence set.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Q7  </td><td class="markdownTableBodyNone"><b>Quantitative eligibility</b>  </td><td class="markdownTableBodyNone">For sets attempted as quantitative: <span class="tt">k ≥ min_studies_for_quant[level]</span> and <b>units compatible</b>.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Q8  </td><td class="markdownTableBodyNone"><b>Heterogeneity guard</b>  </td><td class="markdownTableBodyNone">If quantitative: <span class="tt">I² ≤ max_I2[level]</span>; otherwise auto‑downgrade to qualitative.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Q9  </td><td class="markdownTableBodyNone"><b>Citation discipline</b>  </td><td class="markdownTableBodyNone">Narrative: every claim sentence has ≥1 citation key; <b>no uncited quantitative values</b>.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Q10  </td><td class="markdownTableBodyNone"><b>Repro bundle completeness</b>  </td><td class="markdownTableBodyNone">Bundle includes queries, versions, model/prompt hashes, and artefact checksums.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Q11  </td><td class="markdownTableBodyNone"><b>Determinism</b>  </td><td class="markdownTableBodyNone">Spot re‑run on 5% sample yields identical hashes for extractions/appraisal/synthesis assets.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Q12  </td><td class="markdownTableBodyNone"><b>Licence &amp; policy</b>  </td><td class="markdownTableBodyNone">All fetched full‑texts respect licence allow‑list; robots/ToS honoured (v0.5.3).  </td></tr>
</table>
<p><b>Notes</b></p>
<ul>
<li>WARN bands may be defined (e.g., <span class="tt">0.75 ≤ anchor_ratio &lt; 0.85</span>). <br  />
</li>
<li>Level profiles set exact thresholds; see §6.</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1406"></a>
5) Auto‑remediation Loop</h1>
<p>When a gate <b>FAILs</b>, compute minimal corrective actions and iterate (max <span class="tt">qa.max_iterations</span>, default 2):</p>
<ul>
<li><b>Coverage/Recency/Diversity (Q1–Q3):</b> expand Boolean terms (synonyms/MeSH), widen date range by <span class="tt">Δyears</span>, add an extra source (if disabled), increase RRF top‑K. <br  />
</li>
<li><b>Anchoring/Integrity (Q4–Q5):</b> re‑extract low‑confidence records with stricter chunking; increase repair hints; drop claims lacking spans. <br  />
</li>
<li><b>Appraisal (Q6):</b> tighten auto‑screen thresholds to exclude weak designs; prioritise Low RoB; document rule. <br  />
</li>
<li><b>Quant eligibility/Heterogeneity (Q7–Q8):</b> convert to qualitative summary, or switch MD↔SMD; enforce unit harmonisation; increase time window tolerance by ±1 day. <br  />
</li>
<li><b>Citation/Bundle/Determinism (Q9–Q11):</b> re‑generate narrative enforcing citation policy; rebuild repro bundle; re‑run sample with pinned seeds.</li>
</ul>
<p>If still failing after max iterations → mark <b>Rejected</b> with reasons and remediation log.</p>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1408"></a>
6) Level Profiles v2 (defaults)</h1>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;undergrad&quot;: {</div>
<div class="line">    &quot;min_sources&quot;: 20,</div>
<div class="line">    &quot;years_back&quot;: 7,</div>
<div class="line">    &quot;recency_ratio&quot;: 0.5,</div>
<div class="line">    &quot;max_venue_share&quot;: 0.35,</div>
<div class="line">    &quot;min_publishers&quot;: 3,</div>
<div class="line">    &quot;min_anchor_ratio&quot;: 0.75,</div>
<div class="line">    &quot;max_invalid_rate&quot;: 0.03,</div>
<div class="line">    &quot;min_low_tier_share&quot;: 0.30,</div>
<div class="line">    &quot;min_studies_for_quant&quot;: 3,</div>
<div class="line">    &quot;max_I2&quot;: 0.75</div>
<div class="line">  },</div>
<div class="line">  &quot;masters&quot;: {</div>
<div class="line">    &quot;min_sources&quot;: 40,</div>
<div class="line">    &quot;years_back&quot;: 10,</div>
<div class="line">    &quot;recency_ratio&quot;: 0.6,</div>
<div class="line">    &quot;max_venue_share&quot;: 0.30,</div>
<div class="line">    &quot;min_publishers&quot;: 4,</div>
<div class="line">    &quot;min_anchor_ratio&quot;: 0.85,</div>
<div class="line">    &quot;max_invalid_rate&quot;: 0.02,</div>
<div class="line">    &quot;min_low_tier_share&quot;: 0.40,</div>
<div class="line">    &quot;min_studies_for_quant&quot;: 3,</div>
<div class="line">    &quot;max_I2&quot;: 0.65</div>
<div class="line">  },</div>
<div class="line">  &quot;phd&quot;: {</div>
<div class="line">    &quot;min_sources&quot;: 80,</div>
<div class="line">    &quot;years_back&quot;: 15,</div>
<div class="line">    &quot;recency_ratio&quot;: 0.7,</div>
<div class="line">    &quot;max_venue_share&quot;: 0.25,</div>
<div class="line">    &quot;min_publishers&quot;: 5,</div>
<div class="line">    &quot;min_anchor_ratio&quot;: 0.90,</div>
<div class="line">    &quot;max_invalid_rate&quot;: 0.01,</div>
<div class="line">    &quot;min_low_tier_share&quot;: 0.50,</div>
<div class="line">    &quot;min_studies_for_quant&quot;: 3,</div>
<div class="line">    &quot;max_I2&quot;: 0.50</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><blockquote class="doxtable">
<p>These are starting points; calibration can update them per domain. </p>
</blockquote>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1410"></a>
7) Continuous Watch</h1>
<ul>
<li><b>Scheduler:</b> cron‑like config per topic (e.g., weekly). <br  />
</li>
<li><b>Delta search:</b> re‑run retrieval with the last run’s parameters but <span class="tt">from = last_run_date</span>. <br  />
</li>
<li><b>Trigger rules:</b> if ≥<span class="tt">watch.min_new_primary</span> studies or an <b>anchor</b> study (high citations/venue) appears, start <b>incremental synthesis</b> and re‑QA. <br  />
</li>
<li><b>Notifications:</b> record events and expose via API (webhooks optional later).</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1412"></a>
8) Data Model &amp; Migrations</h1>
<p>Additive only.</p>
<ol type="1">
<li><b><span class="tt">qa_runs</span></b> <br  />
<ul>
<li><span class="tt">id uuid pk</span>, <span class="tt">run_id uuid fk -&gt; lit_search_runs(id)</span>, <span class="tt">level_profile text</span>, <span class="tt">iteration smallint</span>, <span class="tt">status text</span> (pending|running|approved|rejected), <span class="tt">created_at timestamptz</span>, <span class="tt">config jsonb</span>.</li>
</ul>
</li>
<li><b><span class="tt">qa_checks</span></b> <br  />
<ul>
<li><span class="tt">id uuid pk</span>, <span class="tt">qa_run_id uuid fk</span>, <span class="tt">check_id text</span> (Q1..Q12), <span class="tt">status text</span> (pass|warn|fail), <span class="tt">value jsonb</span>, <span class="tt">threshold jsonb</span>, <span class="tt">details jsonb</span>.</li>
</ul>
</li>
<li><b><span class="tt">qa_violations</span></b> <br  />
<ul>
<li><span class="tt">id uuid pk</span>, <span class="tt">qa_run_id uuid fk</span>, <span class="tt">check_id text</span>, <span class="tt">entity_type text</span> (record|claim_set|run), <span class="tt">entity_id uuid</span>, <span class="tt">message text</span>.</li>
</ul>
</li>
<li><b><span class="tt">qa_reports</span></b> <br  />
<ul>
<li><span class="tt">id uuid pk</span>, <span class="tt">qa_run_id uuid fk</span>, <span class="tt">report_path text</span>, <span class="tt">created_at timestamptz</span>, <span class="tt">hash char(64)</span>.</li>
</ul>
</li>
<li><b><span class="tt">watch_jobs</span></b> (optional now, used by scheduler) <br  />
<ul>
<li><span class="tt">id uuid pk</span>, <span class="tt">topic_id uuid</span>, <span class="tt">cron text</span>, <span class="tt">active bool</span>, <span class="tt">created_at timestamptz</span>, <span class="tt">config jsonb</span>.</li>
</ul>
</li>
<li><b><span class="tt">watch_events</span></b> <br  />
<ul>
<li><span class="tt">id uuid pk</span>, <span class="tt">job_id uuid fk -&gt; watch_jobs(id)</span>, <span class="tt">event text</span> (new_studies|re_synthesis|qa_pass|qa_fail), <span class="tt">meta jsonb</span>, <span class="tt">created_at timestamptz</span>.</li>
</ul>
</li>
</ol>
<p>Indexes on FKs and <span class="tt">(check_id)</span>. No destructive changes.</p>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1414"></a>
9) Services &amp; Tools</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1415"></a>
9.1 database‑service (MCP)</h2>
<ul>
<li><span class="tt">qa_start(run_id, level_profile)</span> <br  />
</li>
<li><span class="tt">qa_check_upsert(qa_run_id, payload)</span> <br  />
</li>
<li><span class="tt">qa_report_upsert(qa_run_id, path)</span> <br  />
</li>
<li><span class="tt">watch_job_upsert(topic_id, cron, config)</span> <br  />
</li>
<li><span class="tt">watch_events_list(topic_id)</span></li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1416"></a>
9.2 network‑service / qa</h2>
<ul>
<li>Compute metrics for Q1–Q12 using data from prior stages; evaluate against thresholds. <br  />
</li>
<li>Plan auto‑remediations and call lower‑stage services (retrieval, extraction, synthesis) with adjusted params. <br  />
</li>
<li>Deterministic prompts; metrics emission.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1417"></a>
9.3 api‑gateway</h2>
<ul>
<li><span class="tt">POST /literature/qa/start</span> (legacy: /v2/...) (run_id, level_profile). <br  />
</li>
<li><span class="tt">GET  /literature/qa/status?run_id=...</span> (legacy: /v2/...) → per‑check results + iteration log. <br  />
</li>
<li><span class="tt">GET  /literature/qa/report?run_id=...</span> (legacy: /v2/...) → QA report &amp; remediation log. <br  />
</li>
<li><span class="tt">POST /literature/watch</span> (legacy: /v2/...) (topic_id, cron) → create/enable watch. <br  />
</li>
<li><span class="tt">GET  /literature/watch/events?topic_id=...</span> (legacy: /v2/...).</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1418"></a>
9.4 research‑manager</h2>
<ul>
<li>Orchestrate QA iterations; enforce <span class="tt">max_iterations</span>; surface reasons; link to artefacts.</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1420"></a>
10) Metrics</h1>
<ul>
<li><span class="tt">lit_qa_checks_total{check_id,status}</span> <br  />
</li>
<li><span class="tt">lit_qa_iterations_total{result=approved|rejected}</span> <br  />
</li>
<li><span class="tt">lit_qa_remediations_total{type}</span> <br  />
</li>
<li><span class="tt">lit_watch_events_total{event}</span> <br  />
</li>
<li><span class="tt">lit_qa_latency_ms_bucket{stage}</span> <br  />
</li>
</ul>
<p>All metrics include <span class="tt">{worker="qa"}</span>.</p>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1422"></a>
11) Configuration (defaults)</h1>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;qa&quot;: {</div>
<div class="line">    &quot;max_iterations&quot;: 2,</div>
<div class="line">    &quot;delta_years&quot;: 2,</div>
<div class="line">    &quot;expand_terms&quot;: true,</div>
<div class="line">    &quot;tighten_screen_thresholds&quot;: false,</div>
<div class="line">    &quot;downgrade_quant_on_high_I2&quot;: true</div>
<div class="line">  },</div>
<div class="line">  &quot;watch&quot;: {</div>
<div class="line">    &quot;enabled&quot;: true,</div>
<div class="line">    &quot;cron&quot;: &quot;@weekly&quot;,</div>
<div class="line">    &quot;min_new_primary&quot;: 2,</div>
<div class="line">    &quot;anchor_venue_list&quot;: [&quot;Nature&quot;,&quot;Science&quot;,&quot;Cell&quot;],</div>
<div class="line">    &quot;notify&quot;: {&quot;webhook&quot;: null}</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1424"></a>
12) SLOs (initial)</h1>
<ul>
<li><b>Approval rate:</b> ≥ 90% of runs pass QA after ≤ 1 remediation on seed topics. <br  />
</li>
<li><b>Determinism:</b> spot re‑run hash match for sampled assets = 100%. <br  />
</li>
<li><b>Watch latency:</b> new eligible study → re‑QA initiated within 24 h (scheduler on).</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1426"></a>
13) Definition of Done (DoD)</h1>
<ul>
<li>QA checks implemented; <b>Approved/Rejected</b> outcomes recorded with full per‑check details. <br  />
</li>
<li>Auto‑remediation loop functional with bounded iterations and audit log. <br  />
</li>
<li>Watch jobs runnable; watch events recorded and queryable. <br  />
</li>
<li>Endpoints/tools available; docs updated; tests passing; feature flags guard behaviour.</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1428"></a>
14) Test Plan</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1429"></a>
Unit</h2>
<ul>
<li>Per‑check calculators (Q1–Q12) with fixtures covering pass/warn/fail. <br  />
</li>
<li>Remediation planner chooses minimal, correct actions per failure type. <br  />
</li>
<li>Determinism spot‑check harness reproduces identical hashes.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1430"></a>
Integration</h2>
<ul>
<li>End‑to‑end: run QA on a v0.5.6 synthesis; force failures; observe auto‑remediation and eventual approval or final rejection. <br  />
</li>
<li>Watch: simulate new studies; verify delta search, re‑synthesis, and re‑QA.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1431"></a>
Non‑functional</h2>
<ul>
<li>Bounded retries and backoffs on called services; concurrency caps; memory limits.</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1433"></a>
15) Risks &amp; Mitigations</h1>
<ul>
<li><b>Infinite loops:</b> strict <span class="tt">max_iterations</span>, memoised remediation steps, and idempotency keys. <br  />
</li>
<li><b>Over‑relaxation harms quality:</b> remediation steps follow a conservative order; never violate licence/policy or citation rules. <br  />
</li>
<li><b>False approvals:</b> thresholds are level‑specific and can be tightened via calibration; warn bands logged.</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1435"></a>
16) Rollout &amp; Backward Compatibility</h1>
<ul>
<li>Feature flags: <span class="tt">qa.enabled</span> and <span class="tt">watch.enabled</span> (both default off). <br  />
</li>
<li>Safe to run on historic topics; additive migrations only. <br  />
</li>
<li>QA outputs augment, not replace, synthesis artefacts.</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1437"></a>
17) Open Questions</h1>
<ul>
<li>Should calibration be <b>per domain</b> (e.g., neuroscience vs oncology) and persisted as versioned profiles? <br  />
</li>
<li>Do we integrate a <b>human audit</b> escape hatch (sign‑off) without UI? <br  />
</li>
<li>What minimum evidence triggers a Watch re‑synthesis besides count (e.g., citation velocity)? </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on <span class="timestamp"></span> for ACP - Autonomous Command Protocol by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
