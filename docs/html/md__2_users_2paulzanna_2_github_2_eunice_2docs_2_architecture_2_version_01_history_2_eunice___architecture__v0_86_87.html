<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ACP - Autonomous Command Protocol: Eunice v0.6.7 Architecture — Task Dependencies &amp; Sequential Workflow Management</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ACP - Autonomous Command Protocol<span id="projectnumber">&#160;v0.3.0</span>
   </div>
   <div id="projectbrief">Portable C99 framing library with COBS, CRC16, and HMAC-SHA256 authentication</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md__2_users_2paulzanna_2_github_2_eunice_2docs_2_architecture_2_version_01_history_2_eunice___architecture__v0_86_87.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Eunice v0.6.7 Architecture — Task Dependencies &amp; Sequential Workflow Management </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md1851"></a></p>
<p><b>Date:</b> 14-08-2025 <br  />
 <b>Owner:</b> Paul Zanna <br  />
 <b>Status:</b> Planning</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1852"></a>
1) Executive Summary</h1>
<p>v0.6.7 implements <b>intelligent task dependency management</b> with <b>sequential workflow orchestration</b>, <b>conditional execution paths</b>, <b>resource dependency tracking</b>, and <b>automatic workflow optimization</b>. The system enables complex research pipelines with sophisticated dependency resolution and parallel execution optimization.</p>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1854"></a>
2) Scope</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1855"></a>
Goals</h2>
<ul>
<li><b>Dependency Graph Engine</b>: Visual task dependency modeling with cycle detection</li>
<li><b>Sequential Workflow Orchestration</b>: Automatic task scheduling based on dependencies</li>
<li><b>Conditional Execution</b>: Branch logic with data-driven decision points</li>
<li><b>Resource Dependencies</b>: Track material, equipment, and personnel requirements</li>
<li><b>Parallel Execution Optimization</b>: Identify and execute independent tasks concurrently</li>
<li><b>Workflow Templates</b>: Pre-built research workflow patterns</li>
<li><b>Dependency Visualization</b>: Interactive workflow diagrams with real-time status</li>
<li><b>Failure Recovery</b>: Intelligent retry and rollback mechanisms</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1856"></a>
Non-Goals (this version)</h2>
<ul>
<li>Cross-project dependencies</li>
<li>Human approval gates (beyond automated validation)</li>
<li>External system integration for dependencies</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1858"></a>
3) High-Level Architecture</h1>
<div class="fragment"><div class="line">flowchart TD</div>
<div class="line">    subgraph &quot;Workflow Engine&quot;</div>
<div class="line">        Graph[Dependency Graph&lt;br/&gt;DAG Resolution]</div>
<div class="line">        Scheduler[Workflow Scheduler&lt;br/&gt;Execution Planning]</div>
<div class="line">        Executor[Task Executor&lt;br/&gt;Parallel Processing]</div>
<div class="line">        Monitor[Execution Monitor&lt;br/&gt;Real-time Tracking]</div>
<div class="line">    end</div>
<div class="line"> </div>
<div class="line">    subgraph &quot;Dependency Management&quot;</div>
<div class="line">        Builder[Dependency Builder&lt;br/&gt;Visual Editor]</div>
<div class="line">        Validator[Dependency Validator&lt;br/&gt;Cycle Detection]</div>
<div class="line">        Resolver[Dependency Resolver&lt;br/&gt;Execution Order]</div>
<div class="line">        Templates[Workflow Templates&lt;br/&gt;Pre-built Patterns]</div>
<div class="line">    end</div>
<div class="line"> </div>
<div class="line">    subgraph &quot;Resource Tracking&quot;</div>
<div class="line">        Resources[Resource Registry&lt;br/&gt;Materials/Equipment]</div>
<div class="line">        Availability[Availability Checker&lt;br/&gt;Real-time Status]</div>
<div class="line">        Allocation[Resource Allocator&lt;br/&gt;Conflict Resolution]</div>
<div class="line">        Booking[Resource Booking&lt;br/&gt;Time Management]</div>
<div class="line">    end</div>
<div class="line"> </div>
<div class="line">    subgraph &quot;Execution Control&quot;</div>
<div class="line">        Queue[Priority Queue&lt;br/&gt;Task Ordering]</div>
<div class="line">        Workers[Worker Pool&lt;br/&gt;Parallel Execution]</div>
<div class="line">        State[State Machine&lt;br/&gt;Workflow Status]</div>
<div class="line">        Recovery[Failure Recovery&lt;br/&gt;Retry Logic]</div>
<div class="line">    end</div>
<div class="line"> </div>
<div class="line">    Builder --&gt; Validator</div>
<div class="line">    Validator --&gt; Graph</div>
<div class="line">    Graph --&gt; Resolver</div>
<div class="line">    Resolver --&gt; Scheduler</div>
<div class="line">    </div>
<div class="line">    Scheduler --&gt; Queue</div>
<div class="line">    Queue --&gt; Workers</div>
<div class="line">    Workers --&gt; Executor</div>
<div class="line">    Executor --&gt; Monitor</div>
<div class="line">    </div>
<div class="line">    Resources --&gt; Availability</div>
<div class="line">    Availability --&gt; Allocation</div>
<div class="line">    Allocation --&gt; Booking</div>
<div class="line">    </div>
<div class="line">    State --&gt; Recovery</div>
<div class="line">    Recovery --&gt; Queue</div>
<div class="line">    </div>
<div class="line">    Templates --&gt; Builder</div>
<div class="line">    Monitor --&gt; State</div>
</div><!-- fragment --><p><b>Key Properties</b></p>
<ul>
<li><b>Intelligent Scheduling</b>: Optimal task execution order with parallel optimization</li>
<li><b>Resource Awareness</b>: Prevent conflicts and optimize resource utilization</li>
<li><b>Fault Tolerance</b>: Automatic recovery from task failures with dependency awareness</li>
<li><b>Visual Management</b>: Intuitive workflow design and monitoring interfaces</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1860"></a>
4) Components</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1861"></a>
4.1 Dependency Graph Engine</h2>
<p><b>Technology</b>: NetworkX-inspired graph algorithms with cycle detection <b>Features</b>:</p>
<ul>
<li>Directed Acyclic Graph (DAG) validation</li>
<li>Topological sorting for execution order</li>
<li>Critical path analysis</li>
<li>Dependency impact analysis</li>
<li>Graph visualization with D3.js</li>
<li>Import/export of workflow definitions</li>
<li>Version control for workflow changes</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1862"></a>
4.2 Visual Workflow Builder</h2>
<p><b>Capabilities</b>:</p>
<ul>
<li>Drag-and-drop task placement</li>
<li>Connection drawing for dependencies</li>
<li>Task template library</li>
<li>Conditional branch creation</li>
<li>Resource requirement specification</li>
<li>Time estimation and scheduling</li>
<li>Validation feedback and error highlighting</li>
<li>Collaborative editing with conflict resolution</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1863"></a>
4.3 Workflow Scheduler</h2>
<p><b>Capabilities</b>:</p>
<ul>
<li>Optimal execution order calculation</li>
<li>Parallel execution identification</li>
<li>Resource conflict resolution</li>
<li>Time-based scheduling with constraints</li>
<li>Priority-based task ordering</li>
<li>Load balancing across workers</li>
<li>Dependency-aware retry scheduling</li>
<li>Performance optimization recommendations</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1864"></a>
4.4 Resource Dependency Manager</h2>
<p><b>Capabilities</b>:</p>
<ul>
<li>Material availability tracking</li>
<li>Equipment booking and scheduling</li>
<li>Personnel assignment and workload management</li>
<li>Budget constraint validation</li>
<li>Supplier delivery time integration</li>
<li>Alternative resource suggestion</li>
<li>Resource usage optimization</li>
<li>Conflict prevention and resolution</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1865"></a>
4.5 Execution Monitor</h2>
<p><b>Capabilities</b>:</p>
<ul>
<li>Real-time workflow status tracking</li>
<li>Progress visualization with Gantt charts</li>
<li>Performance metrics collection</li>
<li>Bottleneck identification</li>
<li>Resource utilization monitoring</li>
<li>SLA tracking and alerting</li>
<li>Historical analysis and reporting</li>
<li>Predictive completion time estimation</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1867"></a>
5) Data Model Extensions</h1>
<div class="fragment"><div class="line"><span class="comment">-- Workflow definitions</span></div>
<div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> workflows (</div>
<div class="line">    id UUID <span class="keyword">PRIMARY</span> KEY <span class="keyword">DEFAULT</span> gen_random_uuid(),</div>
<div class="line">    plan_id UUID <span class="keyword">NOT</span> <span class="stringliteral">NULL</span> <span class="keyword">REFERENCES</span> research_plans(id),</div>
<div class="line">    name <span class="keywordtype">VARCHAR</span>(<span class="stringliteral">255</span>) <span class="keyword">NOT</span> <span class="stringliteral">NULL</span>,</div>
<div class="line">    description TEXT,</div>
<div class="line">    definition JSONB <span class="keyword">NOT</span> <span class="stringliteral">NULL</span>, <span class="comment">-- DAG structure</span></div>
<div class="line">    template_id UUID <span class="keyword">REFERENCES</span> workflow_templates(id),</div>
<div class="line">    status <span class="keywordtype">VARCHAR</span>(<span class="stringliteral">20</span>) <span class="keyword">DEFAULT</span> <span class="stringliteral">&#39;draft&#39;</span>,</div>
<div class="line">    created_by UUID <span class="keyword">REFERENCES</span> users(id),</div>
<div class="line">    created_at TIMESTAMPTZ <span class="keyword">DEFAULT</span> NOW(),</div>
<div class="line">    updated_at TIMESTAMPTZ <span class="keyword">DEFAULT</span> NOW()</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line"><span class="comment">-- Task dependencies</span></div>
<div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> task_dependencies (</div>
<div class="line">    id UUID <span class="keyword">PRIMARY</span> KEY <span class="keyword">DEFAULT</span> gen_random_uuid(),</div>
<div class="line">    workflow_id UUID <span class="keyword">NOT</span> <span class="stringliteral">NULL</span> <span class="keyword">REFERENCES</span> workflows(id),</div>
<div class="line">    predecessor_task_id UUID <span class="keyword">NOT</span> <span class="stringliteral">NULL</span> <span class="keyword">REFERENCES</span> research_tasks(id),</div>
<div class="line">    successor_task_id UUID <span class="keyword">NOT</span> <span class="stringliteral">NULL</span> <span class="keyword">REFERENCES</span> research_tasks(id),</div>
<div class="line">    dependency_type <span class="keywordtype">VARCHAR</span>(<span class="stringliteral">20</span>) <span class="keyword">DEFAULT</span> <span class="stringliteral">&#39;finish_to_start&#39;</span>, <span class="comment">-- FS, SS, FF, SF</span></div>
<div class="line">    lag_hours <span class="keywordtype">INTEGER</span> <span class="keyword">DEFAULT</span> <span class="stringliteral">0</span>,</div>
<div class="line">    condition JSONB, <span class="comment">-- Optional conditional logic</span></div>
<div class="line">    created_at TIMESTAMPTZ <span class="keyword">DEFAULT</span> NOW(),</div>
<div class="line">    <span class="keyword">UNIQUE</span>(predecessor_task_id, successor_task_id)</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line"><span class="comment">-- Resource dependencies</span></div>
<div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> resource_dependencies (</div>
<div class="line">    id UUID <span class="keyword">PRIMARY</span> KEY <span class="keyword">DEFAULT</span> gen_random_uuid(),</div>
<div class="line">    task_id UUID <span class="keyword">NOT</span> <span class="stringliteral">NULL</span> <span class="keyword">REFERENCES</span> research_tasks(id),</div>
<div class="line">    resource_type <span class="keywordtype">VARCHAR</span>(<span class="stringliteral">50</span>) <span class="keyword">NOT</span> <span class="stringliteral">NULL</span>, <span class="comment">-- material, equipment, personnel</span></div>
<div class="line">    resource_id <span class="keywordtype">VARCHAR</span>(<span class="stringliteral">255</span>) <span class="keyword">NOT</span> <span class="stringliteral">NULL</span>,</div>
<div class="line">    quantity_required <span class="keywordtype">DECIMAL</span>(<span class="stringliteral">10</span>,<span class="stringliteral">2</span>) <span class="keyword">DEFAULT</span> <span class="stringliteral">1</span>,</div>
<div class="line">    required_from TIMESTAMPTZ,</div>
<div class="line">    required_until TIMESTAMPTZ,</div>
<div class="line">    criticality <span class="keywordtype">VARCHAR</span>(<span class="stringliteral">20</span>) <span class="keyword">DEFAULT</span> <span class="stringliteral">&#39;required&#39;</span>, <span class="comment">-- required, preferred, optional</span></div>
<div class="line">    alternatives JSONB <span class="keyword">DEFAULT</span> <span class="stringliteral">&#39;[]&#39;</span>,</div>
<div class="line">    created_at TIMESTAMPTZ <span class="keyword">DEFAULT</span> NOW()</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line"><span class="comment">-- Workflow executions</span></div>
<div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> workflow_executions (</div>
<div class="line">    id UUID <span class="keyword">PRIMARY</span> KEY <span class="keyword">DEFAULT</span> gen_random_uuid(),</div>
<div class="line">    workflow_id UUID <span class="keyword">NOT</span> <span class="stringliteral">NULL</span> <span class="keyword">REFERENCES</span> workflows(id),</div>
<div class="line">    status <span class="keywordtype">VARCHAR</span>(<span class="stringliteral">20</span>) <span class="keyword">DEFAULT</span> <span class="stringliteral">&#39;running&#39;</span>,</div>
<div class="line">    started_at TIMESTAMPTZ <span class="keyword">DEFAULT</span> NOW(),</div>
<div class="line">    completed_at TIMESTAMPTZ,</div>
<div class="line">    execution_plan JSONB <span class="keyword">NOT</span> <span class="stringliteral">NULL</span>, <span class="comment">-- Resolved execution order</span></div>
<div class="line">    metrics JSONB <span class="keyword">DEFAULT</span> <span class="stringliteral">&#39;{}&#39;</span>, <span class="comment">-- Performance data</span></div>
<div class="line">    error_log JSONB <span class="keyword">DEFAULT</span> <span class="stringliteral">&#39;[]&#39;</span>,</div>
<div class="line">    created_at TIMESTAMPTZ <span class="keyword">DEFAULT</span> NOW()</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line"><span class="comment">-- Workflow templates</span></div>
<div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> workflow_templates (</div>
<div class="line">    id UUID <span class="keyword">PRIMARY</span> KEY <span class="keyword">DEFAULT</span> gen_random_uuid(),</div>
<div class="line">    name <span class="keywordtype">VARCHAR</span>(<span class="stringliteral">255</span>) <span class="keyword">NOT</span> <span class="stringliteral">NULL</span>,</div>
<div class="line">    description TEXT,</div>
<div class="line">    category <span class="keywordtype">VARCHAR</span>(<span class="stringliteral">100</span>),</div>
<div class="line">    template_definition JSONB <span class="keyword">NOT</span> <span class="stringliteral">NULL</span>,</div>
<div class="line">    variables JSONB <span class="keyword">DEFAULT</span> <span class="stringliteral">&#39;{}&#39;</span>, <span class="comment">-- Template parameters</span></div>
<div class="line">    tags TEXT[] <span class="keyword">DEFAULT</span> <span class="stringliteral">&#39;{}&#39;</span>,</div>
<div class="line">    usage_count <span class="keywordtype">INTEGER</span> <span class="keyword">DEFAULT</span> <span class="stringliteral">0</span>,</div>
<div class="line">    rating <span class="keywordtype">DECIMAL</span>(<span class="stringliteral">3</span>,<span class="stringliteral">2</span>) <span class="keyword">DEFAULT</span> <span class="stringliteral">0</span>,</div>
<div class="line">    created_by UUID <span class="keyword">REFERENCES</span> users(id),</div>
<div class="line">    created_at TIMESTAMPTZ <span class="keyword">DEFAULT</span> NOW(),</div>
<div class="line">    updated_at TIMESTAMPTZ <span class="keyword">DEFAULT</span> NOW()</div>
<div class="line">);</div>
</div><!-- fragment --><hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1869"></a>
6) Workflow Engine Implementation</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1870"></a>
6.1 Dependency Resolution Algorithm</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span>WorkflowEngine:</div>
<div class="line">    <span class="keyword">async def </span>resolve_execution_order(self, workflow_id: UUID) -&gt; List[ExecutionBatch]:</div>
<div class="line">        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="stringliteral">        Resolves optimal task execution order with parallel optimization</span></div>
<div class="line"><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line">        <span class="comment"># 1. Load workflow definition and validate DAG</span></div>
<div class="line">        workflow = await self.load_workflow(workflow_id)</div>
<div class="line">        self.validate_dag(workflow.definition)</div>
<div class="line">        </div>
<div class="line">        <span class="comment"># 2. Perform topological sort</span></div>
<div class="line">        sorted_tasks = self.topological_sort(workflow.definition)</div>
<div class="line">        </div>
<div class="line">        <span class="comment"># 3. Identify parallel execution opportunities</span></div>
<div class="line">        execution_batches = self.identify_parallel_batches(sorted_tasks)</div>
<div class="line">        </div>
<div class="line">        <span class="comment"># 4. Optimize for resource constraints</span></div>
<div class="line">        optimized_batches = await self.optimize_resource_usage(execution_batches)</div>
<div class="line">        </div>
<div class="line">        <span class="comment"># 5. Apply priority weights and user preferences</span></div>
<div class="line">        final_batches = self.apply_optimization_weights(optimized_batches)</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">return</span> final_batches</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">def </span>identify_parallel_batches(self, sorted_tasks: List[TaskNode]) -&gt; List[ExecutionBatch]:</div>
<div class="line">        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="stringliteral">        Groups tasks that can execute in parallel</span></div>
<div class="line"><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line">        batches = []</div>
<div class="line">        remaining_tasks = set(sorted_tasks)</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">while</span> remaining_tasks:</div>
<div class="line">            <span class="comment"># Find tasks with no unresolved dependencies</span></div>
<div class="line">            ready_tasks = self.find_ready_tasks(remaining_tasks)</div>
<div class="line">            </div>
<div class="line">            <span class="comment"># Check resource conflicts and split into sub-batches if needed</span></div>
<div class="line">            conflict_free_batches = self.resolve_resource_conflicts(ready_tasks)</div>
<div class="line">            </div>
<div class="line">            batches.extend(conflict_free_batches)</div>
<div class="line">            remaining_tasks -= set(task <span class="keywordflow">for</span> batch <span class="keywordflow">in</span> conflict_free_batches <span class="keywordflow">for</span> task <span class="keywordflow">in</span> batch.tasks)</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">return</span> batches</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md1871"></a>
6.2 Resource Conflict Resolution</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span>ResourceManager:</div>
<div class="line">    <span class="keyword">async def </span>resolve_resource_conflicts(self, tasks: List[Task]) -&gt; List[ExecutionBatch]:</div>
<div class="line">        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="stringliteral">        Resolves resource conflicts and optimizes allocation</span></div>
<div class="line"><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line">        <span class="comment"># 1. Build resource requirement matrix</span></div>
<div class="line">        resource_matrix = self.build_resource_matrix(tasks)</div>
<div class="line">        </div>
<div class="line">        <span class="comment"># 2. Check for conflicts</span></div>
<div class="line">        conflicts = self.detect_conflicts(resource_matrix)</div>
<div class="line">        </div>
<div class="line">        <span class="comment"># 3. Apply conflict resolution strategies</span></div>
<div class="line">        <span class="keywordflow">if</span> conflicts:</div>
<div class="line">            resolved_batches = await self.apply_resolution_strategies(tasks, conflicts)</div>
<div class="line">        <span class="keywordflow">else</span>:</div>
<div class="line">            resolved_batches = [ExecutionBatch(tasks=tasks)]</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">return</span> resolved_batches</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">async def </span>apply_resolution_strategies(self, tasks: List[Task], conflicts: List[ResourceConflict]) -&gt; List[ExecutionBatch]:</div>
<div class="line">        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="stringliteral">        Applies various strategies to resolve resource conflicts</span></div>
<div class="line"><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line">        strategies = [</div>
<div class="line">            self.sequential_scheduling,</div>
<div class="line">            self.alternative_resource_substitution,</div>
<div class="line">            self.time_shifting,</div>
<div class="line">            self.resource_sharing</div>
<div class="line">        ]</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">for</span> strategy <span class="keywordflow">in</span> strategies:</div>
<div class="line">            <span class="keywordflow">if</span> await strategy.can_resolve(conflicts):</div>
<div class="line">                <span class="keywordflow">return</span> await strategy.resolve(tasks, conflicts)</div>
<div class="line">        </div>
<div class="line">        <span class="comment"># Fallback to sequential execution</span></div>
<div class="line">        <span class="keywordflow">return</span> [ExecutionBatch(tasks=[task]) <span class="keywordflow">for</span> task <span class="keywordflow">in</span> tasks]</div>
</div><!-- fragment --><hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1873"></a>
7) Workflow Templates</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1874"></a>
7.1 Pre-built Template Library</h2>
<p><b>Literature Review Workflow</b>:</p>
<div class="fragment"><div class="line">name: &quot;Comprehensive Literature Review&quot;</div>
<div class="line">description: &quot;Standard academic literature review process&quot;</div>
<div class="line">tasks:</div>
<div class="line">  - id: &quot;search_setup&quot;</div>
<div class="line">    type: &quot;literature_review&quot;</div>
<div class="line">    name: &quot;Search Strategy Development&quot;</div>
<div class="line">    </div>
<div class="line">  - id: &quot;database_search&quot;</div>
<div class="line">    type: &quot;literature_review&quot; </div>
<div class="line">    name: &quot;Multi-database Search&quot;</div>
<div class="line">    depends_on: [&quot;search_setup&quot;]</div>
<div class="line">    parallel_branches: [&quot;pubmed&quot;, &quot;scholar&quot;, &quot;arxiv&quot;]</div>
<div class="line">    </div>
<div class="line">  - id: &quot;screening&quot;</div>
<div class="line">    type: &quot;analysis&quot;</div>
<div class="line">    name: &quot;Title/Abstract Screening&quot;</div>
<div class="line">    depends_on: [&quot;database_search&quot;]</div>
<div class="line">    </div>
<div class="line">  - id: &quot;full_text_review&quot;</div>
<div class="line">    type: &quot;analysis&quot;</div>
<div class="line">    name: &quot;Full-text Review&quot;</div>
<div class="line">    depends_on: [&quot;screening&quot;]</div>
<div class="line">    </div>
<div class="line">  - id: &quot;synthesis&quot;</div>
<div class="line">    type: &quot;synthesis&quot;</div>
<div class="line">    name: &quot;Evidence Synthesis&quot;</div>
<div class="line">    depends_on: [&quot;full_text_review&quot;]</div>
</div><!-- fragment --><p><b>Experimental Research Workflow</b>:</p>
<div class="fragment"><div class="line">name: &quot;Laboratory Experiment Pipeline&quot;</div>
<div class="line">description: &quot;Complete experimental research workflow&quot;</div>
<div class="line">tasks:</div>
<div class="line">  - id: &quot;literature_background&quot;</div>
<div class="line">    type: &quot;literature_review&quot;</div>
<div class="line">    name: &quot;Background Research&quot;</div>
<div class="line">    </div>
<div class="line">  - id: &quot;experiment_design&quot;</div>
<div class="line">    type: &quot;analysis&quot;</div>
<div class="line">    name: &quot;Experimental Design&quot;</div>
<div class="line">    depends_on: [&quot;literature_background&quot;]</div>
<div class="line">    </div>
<div class="line">  - id: &quot;materials_planning&quot;</div>
<div class="line">    type: &quot;materials_build&quot;</div>
<div class="line">    name: &quot;Materials Procurement&quot;</div>
<div class="line">    depends_on: [&quot;experiment_design&quot;]</div>
<div class="line">    </div>
<div class="line">  - id: &quot;pilot_study&quot;</div>
<div class="line">    type: &quot;validation&quot;</div>
<div class="line">    name: &quot;Pilot Study&quot;</div>
<div class="line">    depends_on: [&quot;materials_planning&quot;, &quot;experiment_design&quot;]</div>
<div class="line">    </div>
<div class="line">  - id: &quot;main_experiment&quot;</div>
<div class="line">    type: &quot;research&quot;</div>
<div class="line">    name: &quot;Main Experiment&quot;</div>
<div class="line">    depends_on: [&quot;pilot_study&quot;]</div>
<div class="line">    condition: &quot;pilot_study.results.feasible == true&quot;</div>
<div class="line">    </div>
<div class="line">  - id: &quot;data_analysis&quot;</div>
<div class="line">    type: &quot;analysis&quot;</div>
<div class="line">    name: &quot;Statistical Analysis&quot;</div>
<div class="line">    depends_on: [&quot;main_experiment&quot;]</div>
<div class="line">    </div>
<div class="line">  - id: &quot;report_writing&quot;</div>
<div class="line">    type: &quot;synthesis&quot;</div>
<div class="line">    name: &quot;Report Generation&quot;</div>
<div class="line">    depends_on: [&quot;data_analysis&quot;]</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md1875"></a>
7.2 Template Customization Engine</h2>
<p><b>Variable Substitution</b>:</p>
<ul>
<li>Dynamic task naming based on research domain</li>
<li>Conditional branches based on study type</li>
<li>Resource requirements based on scale</li>
<li>Timeline estimation based on complexity</li>
</ul>
<p><b>Template Marketplace</b>:</p>
<ul>
<li>Community-contributed templates</li>
<li>Rating and review system</li>
<li>Usage analytics and optimization</li>
<li>Version control and updates</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1877"></a>
8) Visualization Components</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1878"></a>
8.1 Interactive Workflow Diagram</h2>
<div class="fragment"><div class="line">interface WorkflowDiagramProps {</div>
<div class="line">  workflow: Workflow</div>
<div class="line">  execution?: WorkflowExecution</div>
<div class="line">  onTaskClick?: (task: Task) =&gt; void</div>
<div class="line">  onDependencyEdit?: (dependency: Dependency) =&gt; void</div>
<div class="line">  readonly?: boolean</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">// Features:</div>
<div class="line">// - Node-link diagram with task nodes and dependency edges</div>
<div class="line">// - Real-time status updates with color coding</div>
<div class="line">// - Critical path highlighting</div>
<div class="line">// - Resource conflict indicators</div>
<div class="line">// - Progress animations</div>
<div class="line">// - Zoom and pan controls</div>
<div class="line">// - Mini-map for large workflows</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md1879"></a>
8.2 Gantt Chart Timeline</h2>
<div class="fragment"><div class="line">interface WorkflowGanttProps {</div>
<div class="line">  workflow: Workflow</div>
<div class="line">  execution?: WorkflowExecution</div>
<div class="line">  timeRange: DateRange</div>
<div class="line">  onTaskResize?: (task: Task, newDuration: Duration) =&gt; void</div>
<div class="line">  onDependencyCreate?: (from: Task, to: Task) =&gt; void</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">// Features:</div>
<div class="line">// - Task bars with duration and dependencies</div>
<div class="line">// - Resource allocation swim lanes</div>
<div class="line">// - Critical path visualization</div>
<div class="line">// - Milestone markers</div>
<div class="line">// - Progress indicators</div>
<div class="line">// - Baseline vs. actual comparison</div>
<div class="line">// - Resource conflict highlighting</div>
</div><!-- fragment --><hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1881"></a>
9) Performance Optimization</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1882"></a>
9.1 Graph Processing</h2>
<ul>
<li>Incremental dependency resolution for large workflows</li>
<li>Cached topological sorts with invalidation</li>
<li>Parallel conflict detection algorithms</li>
<li>Memory-efficient graph representations</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1883"></a>
9.2 Real-time Updates</h2>
<ul>
<li>WebSocket connections for live status updates</li>
<li>Differential state synchronization</li>
<li>Optimistic UI updates with rollback</li>
<li>Batch processing of status changes</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1885"></a>
10) Integration Points</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1886"></a>
10.1 Task Management Integration</h2>
<ul>
<li>Seamless workflow creation from existing tasks</li>
<li>Automatic dependency detection based on task metadata</li>
<li>Integration with KickoffWizard for workflow-aware task creation</li>
<li>Resource booking integration with materials and equipment systems</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1887"></a>
10.2 Monitoring Integration</h2>
<ul>
<li>Integration with existing task status tracking</li>
<li>Performance metrics collection and analysis</li>
<li>Alert system for workflow bottlenecks</li>
<li>Historical workflow performance analysis</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1889"></a>
11) Testing Strategy</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1890"></a>
11.1 Algorithm Testing</h2>
<ul>
<li>DAG validation with various graph structures</li>
<li>Cycle detection with edge cases</li>
<li>Resource conflict resolution scenarios</li>
<li>Performance testing with large workflows</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1891"></a>
11.2 Integration Testing</h2>
<ul>
<li>End-to-end workflow execution</li>
<li>Resource booking and conflict scenarios</li>
<li>Failure recovery and retry mechanisms</li>
<li>Template instantiation and customization</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1893"></a>
12) Acceptance Criteria</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1894"></a>
Core Functionality</h2>
<ul class="check">
<li class="unchecked">Users can create complex workflows with dependencies</li>
</ul>
<ul class="check">
<li class="unchecked">System automatically schedules tasks in optimal order</li>
</ul>
<ul class="check">
<li class="unchecked">Resource conflicts are detected and resolved</li>
</ul>
<ul class="check">
<li class="unchecked">Workflow execution is monitored in real-time</li>
</ul>
<ul class="check">
<li class="unchecked">Templates can be customized and reused</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1895"></a>
Performance Requirements</h2>
<ul class="check">
<li class="unchecked">Dependency resolution completes within 5 seconds for 100-task workflows</li>
</ul>
<ul class="check">
<li class="unchecked">Real-time updates appear within 1 second of status changes</li>
</ul>
<ul class="check">
<li class="unchecked">Parallel execution achieves &gt;70% efficiency improvement</li>
</ul>
<ul class="check">
<li class="unchecked">System handles 20 concurrent workflow executions</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1896"></a>
User Experience Requirements</h2>
<ul class="check">
<li class="unchecked">Workflow builder is intuitive for non-technical users</li>
</ul>
<ul class="check">
<li class="unchecked">Visual diagrams clearly show dependencies and status</li>
</ul>
<ul class="check">
<li class="unchecked">Error messages provide actionable guidance</li>
</ul>
<ul class="check">
<li class="unchecked">Templates accelerate workflow creation by &gt;50%</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1897"></a>
Reliability Requirements</h2>
<ul class="check">
<li class="unchecked">Workflow execution completes successfully &gt;95% of the time</li>
</ul>
<ul class="check">
<li class="unchecked">System recovers gracefully from individual task failures</li>
</ul>
<ul class="check">
<li class="unchecked">Resource conflicts are prevented 100% of the time</li>
</ul>
<ul class="check">
<li class="unchecked">Workflow state is persistent across system restarts</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md1899"></a>
13) Success Metrics</h1>
<ul>
<li><b>Workflow Adoption</b>: &gt;60% of plans use workflow dependencies</li>
<li><b>Execution Efficiency</b>: &gt;40% reduction in total plan completion time</li>
<li><b>Resource Utilization</b>: &gt;80% optimal resource allocation</li>
<li><b>Template Usage</b>: &gt;70% of workflows start from templates</li>
<li><b>User Satisfaction</b>: &gt;4.5/5 rating for workflow management features </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on <span class="timestamp"></span> for ACP - Autonomous Command Protocol by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
