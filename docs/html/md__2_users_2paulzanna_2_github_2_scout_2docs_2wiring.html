<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ACP - Autonomous Command Protocol: Scout ISR Drone Wiring Guide and PIN Mapping</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ACP - Autonomous Command Protocol<span id="projectnumber">&#160;v0.3.0</span>
   </div>
   <div id="projectbrief">Portable C99 framing library with COBS, CRC16, and HMAC-SHA256 authentication</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md__2_users_2paulzanna_2_github_2_scout_2docs_2wiring.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Scout ISR Drone Wiring Guide and PIN Mapping </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md8434"></a></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md8435"></a>
Board Specifications</h1>
<ul>
<li>Target board: <span class="tt">freenove_esp32_s3_wroom</span></li>
<li>MCU: ESP32-S3-WROOM-1 (N16R8) - 16MB Flash, 8MB PSRAM</li>
<li>USB-UART: TX0=43, RX0=44 (primary CLI interface)</li>
<li>Primary I2C: SCL=10, SDA=9 (sensor bus) <br  />
</li>
<li>Motor outputs: 39, 40, 41, 42 (DSHOT support)</li>
<li>Security: WiFi/AP disabled in FLIGHT; serial CLI only per FR-021</li>
<li>Pins listed below are validated for Scout sensor integration</li>
</ul>
<p>ESP32 MCUs allows to remap pins, so the wiring is not final and you can remap inputs and outputs to your needs. To change pin function go to the CLI and use <span class="tt">get pin</span> command to check current assignment. For example, to set first output to pin 1 use command</p>
<p><span class="tt">set pin_output_0 1</span></p>
<p>To unmap pin function use -1 as pin number</p>
<p><span class="tt">set pin_output_3 -1</span></p>
<dl class="section note"><dt>Note</dt><dd>There are still some limitations in remapping. Not all pins can be used with all functions. Some pins are input only, others are strapping pins and may prevent from booting if used incorrectly. please consult MCU documentation for available options. Default layout is proven to work.</dd></dl>
<h1 class="doxsection"><a class="anchor" id="autotoc_md8436"></a>
Scout Sensor Wiring (I2C Bus)</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md8437"></a>
Primary I2C Bus (400kHz, 3.3V)</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Signal  </th><th class="markdownTableHeadNone">ESP32-S3 Pin  </th><th class="markdownTableHeadNone">Wire Color  </th><th class="markdownTableHeadNone">Notes  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SCL  </td><td class="markdownTableBodyNone">10  </td><td class="markdownTableBodyNone">Yellow  </td><td class="markdownTableBodyNone">Clock line, 4.7kΩ pull-up  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SDA  </td><td class="markdownTableBodyNone">9  </td><td class="markdownTableBodyNone">Green  </td><td class="markdownTableBodyNone">Data line, 4.7kΩ pull-up  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">VCC  </td><td class="markdownTableBodyNone">3.3V  </td><td class="markdownTableBodyNone">Red  </td><td class="markdownTableBodyNone">Power supply  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">GND  </td><td class="markdownTableBodyNone">GND  </td><td class="markdownTableBodyNone">Black  </td><td class="markdownTableBodyNone">Ground  </td></tr>
</table>
<h2 class="doxsection"><a class="anchor" id="autotoc_md8438"></a>
Scout Sensor Suite</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Sensor  </th><th class="markdownTableHeadNone">Type  </th><th class="markdownTableHeadNone">I2C Address  </th><th class="markdownTableHeadNone">Pins Used  </th><th class="markdownTableHeadNone">Purpose  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MPU-6050  </td><td class="markdownTableBodyNone">IMU  </td><td class="markdownTableBodyNone">0x68 (default)  </td><td class="markdownTableBodyNone">I2C (SCL/SDA)  </td><td class="markdownTableBodyNone">Gyro + Accelerometer  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">HMC5883L  </td><td class="markdownTableBodyNone">Magnetometer  </td><td class="markdownTableBodyNone">0x1E  </td><td class="markdownTableBodyNone">I2C (SCL/SDA)  </td><td class="markdownTableBodyNone">Compass/heading  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">BMP388  </td><td class="markdownTableBodyNone">Barometer  </td><td class="markdownTableBodyNone">0x77 (default)  </td><td class="markdownTableBodyNone">I2C (SCL/SDA)  </td><td class="markdownTableBodyNone">Altitude/pressure  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">NEO-6M  </td><td class="markdownTableBodyNone">GPS  </td><td class="markdownTableBodyNone">N/A  </td><td class="markdownTableBodyNone">UART (TX/RX)  </td><td class="markdownTableBodyNone">Position/navigation  </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>I2C pull-up resistors (4.7kΩ) should be present on SCL/SDA lines. Most sensor breakout boards include these.</dd></dl>
<h1 class="doxsection"><a class="anchor" id="autotoc_md8439"></a>
Motor Output Configuration</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md8440"></a>
Quadcopter Motor Layout (X Configuration)</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Motor  </th><th class="markdownTableHeadNone">Position  </th><th class="markdownTableHeadNone">ESP32-S3 Pin  </th><th class="markdownTableHeadNone">ESC Connection  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1  </td><td class="markdownTableBodyNone">Front Right  </td><td class="markdownTableBodyNone">39  </td><td class="markdownTableBodyNone">ESC1 Signal  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2  </td><td class="markdownTableBodyNone">Rear Right  </td><td class="markdownTableBodyNone">40  </td><td class="markdownTableBodyNone">ESC2 Signal  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3  </td><td class="markdownTableBodyNone">Rear Left  </td><td class="markdownTableBodyNone">41  </td><td class="markdownTableBodyNone">ESC3 Signal  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">4  </td><td class="markdownTableBodyNone">Front Left  </td><td class="markdownTableBodyNone">42  </td><td class="markdownTableBodyNone">ESC4 Signal  </td></tr>
</table>
<h2 class="doxsection"><a class="anchor" id="autotoc_md8441"></a>
Motor Output Signals</h2>
<ul>
<li>Protocol: DSHOT300 (default) or DSHOT150</li>
<li>Voltage: 3.3V logic (compatible with most ESCs)</li>
<li>Frequency: Configurable via CLI</li>
<li>Idle: 5.5% (550 DSHOT units) for motor startup</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md8442"></a>
UART/Serial Interfaces</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md8443"></a>
Primary CLI Interface (USB-CDC)</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Signal  </th><th class="markdownTableHeadNone">ESP32-S3 Pin  </th><th class="markdownTableHeadNone">Usage  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TX0  </td><td class="markdownTableBodyNone">43  </td><td class="markdownTableBodyNone">CLI output (to host)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">RX0  </td><td class="markdownTableBodyNone">44  </td><td class="markdownTableBodyNone">CLI input (from host)  </td></tr>
</table>
<h2 class="doxsection"><a class="anchor" id="autotoc_md8444"></a>
GPS Interface (UART1)</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Signal  </th><th class="markdownTableHeadNone">ESP32-S3 Pin  </th><th class="markdownTableHeadNone">NEO-6M Pin  </th><th class="markdownTableHeadNone">Wire Color  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TX1  </td><td class="markdownTableBodyNone">16  </td><td class="markdownTableBodyNone">RX  </td><td class="markdownTableBodyNone">Blue  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">RX1  </td><td class="markdownTableBodyNone">15  </td><td class="markdownTableBodyNone">TX  </td><td class="markdownTableBodyNone">Orange  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">VCC  </td><td class="markdownTableBodyNone">3.3V  </td><td class="markdownTableBodyNone">VCC  </td><td class="markdownTableBodyNone">Red  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">GND  </td><td class="markdownTableBodyNone">GND  </td><td class="markdownTableBodyNone">GND  </td><td class="markdownTableBodyNone">Black  </td></tr>
</table>
<h2 class="doxsection"><a class="anchor" id="autotoc_md8445"></a>
Auxiliary UART (UART2) - Available for expansion</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Signal  </th><th class="markdownTableHeadNone">ESP32-S3 Pin  </th><th class="markdownTableHeadNone">Usage  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TX2  </td><td class="markdownTableBodyNone">18  </td><td class="markdownTableBodyNone">Reserved/expansion  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">RX2  </td><td class="markdownTableBodyNone">17  </td><td class="markdownTableBodyNone">Reserved/expansion  </td></tr>
</table>
<h1 class="doxsection"><a class="anchor" id="autotoc_md8446"></a>
Default Analog pin mapping</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadRight">Uart  </th><th class="markdownTableHeadNone">CLI name  </th><th class="markdownTableHeadRight">ESP32-S3  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyRight">Voltage  </td><td class="markdownTableBodyNone"><span class="tt">pin_input_adc_0</span>  </td><td class="markdownTableBodyRight">1  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyRight">Current  </td><td class="markdownTableBodyNone"><span class="tt">pin_input_adc_1</span>  </td><td class="markdownTableBodyRight">4  </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>On ESP32 choose only pins assigned to ADC1 channels</dd></dl>
<h1 class="doxsection"><a class="anchor" id="autotoc_md8447"></a>
Default PPM receiver pin mapping</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadRight">Uart  </th><th class="markdownTableHeadNone">CLI name  </th><th class="markdownTableHeadRight">ESP32-S3  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyRight">PPM  </td><td class="markdownTableBodyNone"><span class="tt">pin_input_rx</span>  </td><td class="markdownTableBodyRight">6  </td></tr>
</table>
<h1 class="doxsection"><a class="anchor" id="autotoc_md8448"></a>
Other pin functions</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">CLI name  </th><th class="markdownTableHeadNone">ESP32-S3  </th><th class="markdownTableHeadNone">Comment  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">pin_buzzer</span>  </td><td class="markdownTableBodyNone">5  </td><td class="markdownTableBodyNone">Status buzzer  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">pin_led</span>  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone">Status led  </td></tr>
</table>
<h1 class="doxsection"><a class="anchor" id="autotoc_md8449"></a>
Complete Scout Wiring Diagram</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md8450"></a>
Sensor Connections Summary</h2>
<div class="fragment"><div class="line">ESP32-S3 (freenove_esp32_s3_wroom)</div>
<div class="line">┌─────────────────────────────────┐</div>
<div class="line">│                                 │</div>
<div class="line">│  (10) SCL ────────── SCL (I2C)  │ ← MPU-6050, HMC5883L, BMP388</div>
<div class="line">│   (9) SDA ────────── SDA (I2C)  │</div>
<div class="line">│                                 │</div>
<div class="line">│  (16) TX1 ────────── RX (GPS)   │ ← NEO-6M GPS Module</div>
<div class="line">│  (15) RX1 ────────── TX (GPS)   │</div>
<div class="line">│                                 │</div>
<div class="line">│  (39) M1  ────────── ESC1       │ ← Motor 1 (Front Right)</div>
<div class="line">│  (40) M2  ────────── ESC2       │ ← Motor 2 (Rear Right)</div>
<div class="line">│  (41) M3  ────────── ESC3       │ ← Motor 3 (Rear Left)</div>
<div class="line">│  (42) M4  ────────── ESC4       │ ← Motor 4 (Front Left)</div>
<div class="line">│                                 │</div>
<div class="line">│  (43) TX0 ────────── USB CLI    │ ← CLI Interface</div>
<div class="line">│  (44) RX0 ────────── USB CLI    │</div>
<div class="line">│                                 │</div>
<div class="line">│  3.3V ────────────── Sensor VCC │ ← Power for sensors</div>
<div class="line">│   GND ────────────── Sensor GND │</div>
<div class="line">└─────────────────────────────────┘</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md8451"></a>
Power Distribution</h2>
<ul>
<li><b>Sensor Power</b>: 3.3V from ESP32-S3 (max 600mA total)</li>
<li><b>ESP32-S3 Power</b>: 5V via USB or external 5V supply</li>
<li><b>Motor Power</b>: External battery via ESCs (7.4V-14.8V LiPo)</li>
<li><b>GPS Power</b>: 3.3V from ESP32-S3 (≤100mA typical)</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md8452"></a>
Critical Wiring Notes</h2>
<ol type="1">
<li><b>I2C Pull-ups</b>: Required on SCL/SDA (4.7kΩ recommended)</li>
<li><b>GPS UART</b>: Cross-connect TX1→RX, RX1→TX <br  />
</li>
<li><b>Motor Outputs</b>: DSHOT protocol, no PWM filtering needed</li>
<li><b>Power Isolation</b>: Keep motor power separate from logic power</li>
<li><b>Ground Loops</b>: Single-point ground connection recommended</li>
</ol>
<h2 class="doxsection"><a class="anchor" id="autotoc_md8453"></a>
Troubleshooting Common Issues</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Problem  </th><th class="markdownTableHeadNone">Cause  </th><th class="markdownTableHeadNone">Solution  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">I2C sensors not detected  </td><td class="markdownTableBodyNone">Missing pull-ups  </td><td class="markdownTableBodyNone">Add 4.7kΩ resistors on SCL/SDA  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">GPS no fix  </td><td class="markdownTableBodyNone">Incorrect wiring  </td><td class="markdownTableBodyNone">Verify TX1→RX, RX1→TX cross-connection  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Motor twitching  </td><td class="markdownTableBodyNone">EMI/grounding  </td><td class="markdownTableBodyNone">Improve power filtering, shorter ESC leads  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">CLI not responsive  </td><td class="markdownTableBodyNone">USB driver  </td><td class="markdownTableBodyNone">Check USB-CDC driver installation  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Boot loops  </td><td class="markdownTableBodyNone">Pin conflicts  </td><td class="markdownTableBodyNone">Verify no conflicts with boot strapping pins  </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on <span class="timestamp"></span> for ACP - Autonomous Command Protocol by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
