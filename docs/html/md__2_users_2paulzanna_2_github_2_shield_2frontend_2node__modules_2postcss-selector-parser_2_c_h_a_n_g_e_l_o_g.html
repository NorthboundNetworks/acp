<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ACP - Autonomous Command Protocol: 6.1.2</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ACP - Autonomous Command Protocol<span id="projectnumber">&#160;v0.3.0</span>
   </div>
   <div id="projectbrief">Portable C99 framing library with COBS, CRC16, and HMAC-SHA256 authentication</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md__2_users_2paulzanna_2_github_2_shield_2frontend_2node__modules_2postcss-selector-parser_2_c_h_a_n_g_e_l_o_g.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">6.1.2 </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md15313"></a></p>
<ul>
<li>Fixed: erroneous trailing combinators in pseudos</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15314"></a>
6.1.1</h1>
<ul>
<li>Fixed: improve typings of constructor helpers (#292)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15315"></a>
6.1.0</h1>
<ul>
<li>Feature: add <span class="tt">sourceIndex</span> to <span class="tt">Selector</span> nodes (#290)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15316"></a>
6.0.16</h1>
<ul>
<li>Fixed: add missing <span class="tt">index</span> argument to <span class="tt">each</span>/<span class="tt">walk</span> callback types (#289)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15317"></a>
6.0.15</h1>
<ul>
<li>Fixed: Node#prev and Node#next type for the first/last node</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15318"></a>
6.0.14</h1>
<ul>
<li>Fixed: type definitions</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15319"></a>
6.0.13</h1>
<ul>
<li>Fixed: throw on unexpected pipe symbols</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15320"></a>
6.0.12</h1>
<ul>
<li>Fixed: <span class="tt">clone</span> arguments should be optional</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15321"></a>
6.0.11</h1>
<ul>
<li>Fixed: parse attribute case insensitivity flag</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15322"></a>
6.0.10</h1>
<ul>
<li>Fixed: <span class="tt">isPseudoElement()</span> supports <span class="tt">:first-letter</span> and <span class="tt">:first-line</span></li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15323"></a>
6.0.9</h1>
<ul>
<li>Fixed: <span class="tt">Combinator.raws</span> property type</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15324"></a>
6.0.8</h1>
<ul>
<li>Fixed: reduced size</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15325"></a>
6.0.7</h1>
<ul>
<li>Fixed: parse animation percents</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15326"></a>
6.0.6</h1>
<ul>
<li>Fixed: parse quoted attributes containing a newline correctly</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15327"></a>
6.0.5</h1>
<ul>
<li>Perf: rework unesc for a 63+% performance boost</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15328"></a>
6.0.4</h1>
<ul>
<li>Fixed: ts errors</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15329"></a>
6.0.3</h1>
<ul>
<li>Fixed: replace node built-in "util" module with "util-deprecate"</li>
<li>Fixed: handle uppercase pseudo elements</li>
<li>Fixed: do not create invalid combinator before comment</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15330"></a>
6.0.2</h1>
<ul>
<li>Fixed an issue with parsing and stringifying an empty attribute value</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15331"></a>
6.0.1</h1>
<ul>
<li>Fixed an issue with unicode surrogate pair parsing</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15332"></a>
6.0.0</h1>
<ul>
<li>Updated: <span class="tt">cssesc</span> to 3.0.0 (major)</li>
<li>Fixed: Issues with escaped <span class="tt">id</span> and <span class="tt">class</span> selectors</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15333"></a>
5.0.0</h1>
<ul>
<li>Allow escaped dot within class name.</li>
<li>Update PostCSS to 7.0.7 (patch)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15334"></a>
5.0.0-rc.4</h1>
<ul>
<li>Fixed an issue where comments immediately after an insensitive (in attribute) were not parsed correctly.</li>
<li>Updated <span class="tt">cssesc</span> to 2.0.0 (major).</li>
<li>Removed outdated integration tests.</li>
<li>Added tests for custom selectors, tags with attributes, the universal selector with pseudos, and tokens after combinators.</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15335"></a>
5.0.0-rc.1</h1>
<p>To ease adoption of the v5.0 release, we have relaxed the node version check performed by npm at installation time to allow for node 4, which remains officially unsupported, but likely to continue working for the time being.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15336"></a>
5.0.0-rc.0</h1>
<p>This release has <b>BREAKING CHANGES</b> that were required to fix regressions in 4.0.0 and to make the Combinator Node API consistent for all combinator types. Please read carefully.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md15337"></a>
Summary of Changes</h2>
<ul>
<li>The way a descendent combinator that isn't a single space character (E.g. <span class="tt">.a  .b</span>) is stored in the AST has changed.</li>
<li>Named Combinators (E.g. <span class="tt">.a /for/ .b</span>) are now properly parsed as a combinator.</li>
<li>It is now possible to look up a node based on the source location of a character in that node and to query nodes if they contain some character.</li>
<li>Several bug fixes that caused the parser to hang and run out of memory when a <span class="tt">/</span> was encountered have been fixed.</li>
<li>The minimum supported version of Node is now <span class="tt">v6.0.0</span>.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md15338"></a>
Changes to the Descendent Combinator</h3>
<p>In prior releases, the value of a descendant combinator with multiple spaces included all the spaces.</p>
<ul>
<li><span class="tt">.a   .b</span>: Extra spaces are now stored as space before.<ul>
<li>Old &amp; Busted:<ul>
<li><span class="tt">combinator.value === "   "</span></li>
</ul>
</li>
<li>New hotness:<ul>
<li><span class="tt">combinator.value === " " &amp;&amp; combinator.spaces.before === "  "</span></li>
</ul>
</li>
</ul>
</li>
<li><span class="tt">.a   /*comment*/.b</span>: A comment at the end of the combinator causes extra space to become after space.<ul>
<li>Old &amp; Busted:<ul>
<li><span class="tt">combinator.value === "   "</span></li>
<li><span class="tt">combinator.raws.value === "   /*comment/"</span></li>
</ul>
</li>
<li>New hotness:<ul>
<li><span class="tt">combinator.value === " "</span></li>
<li><span class="tt">combinator.spaces.after === "  "</span></li>
<li><span class="tt">combinator.raws.spaces.after === "  /*comment*/"</span></li>
</ul>
</li>
</ul>
</li>
<li><span class="tt">.a&lt;newline&gt;.b</span>: whitespace that doesn't start or end with a single space character is stored as a raw value.<ul>
<li>Old &amp; Busted:<ul>
<li><span class="tt">combinator.value === "\n"</span></li>
<li><span class="tt">combinator.raws.value === undefined</span></li>
</ul>
</li>
<li>New hotness:<ul>
<li><span class="tt">combinator.value === " "</span></li>
<li><span class="tt">combinator.raws.value === "\n"</span></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md15339"></a>
Support for "Named Combinators"</h3>
<p>Although, nonstandard and unlikely to ever become a standard, combinators like <span class="tt">/deep/</span> and <span class="tt">/for/</span> are now properly supported.</p>
<p>Because they've been taken off the standardization track, there is no spec-official name for combinators of the form <span class="tt">/&lt;ident&gt;/</span>. However, I talked to <a href="https://twitter.com/tabatkins">Tab Atkins</a> and we agreed to call them "named combinators" so now they are called that.</p>
<p>Before this release such named combinators were parsed without intention and generated three nodes of type <span class="tt">"tag"</span> where the first and last nodes had a value of <span class="tt">"/"</span>.</p>
<ul>
<li><span class="tt">.a /for/ .b</span> is parsed as a combinator.<ul>
<li>Old &amp; Busted:<ul>
<li><span class="tt">root.nodes[0].nodes[1].type === "tag"</span></li>
<li><span class="tt">root.nodes[0].nodes[1].value === "/"</span></li>
</ul>
</li>
<li>New hotness:<ul>
<li><span class="tt">root.nodes[0].nodes[1].type === "combinator"</span></li>
<li><span class="tt">root.nodes[0].nodes[1].value === "/for/"</span></li>
</ul>
</li>
</ul>
</li>
<li><span class="tt">.a /F\6fR/ .b</span> escapes are handled and uppercase is normalized.<ul>
<li>Old &amp; Busted:<ul>
<li><span class="tt">root.nodes[0].nodes[2].type === "tag"</span></li>
<li><span class="tt">root.nodes[0].nodes[2].value === "F\\6fR"</span></li>
</ul>
</li>
<li>New hotness:<ul>
<li><span class="tt">root.nodes[0].nodes[1].type === "combinator"</span></li>
<li><span class="tt">root.nodes[0].nodes[1].value === "/for/"</span></li>
<li><span class="tt">root.nodes[0].nodes[1].raws.value === "/F\\6fR/"</span></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md15340"></a>
Source position checks and lookups</h3>
<p>A new API was added to look up a node based on the source location.</p>
<div class="fragment"><div class="line">const selectorParser = require(&quot;postcss-selector-parser&quot;);</div>
<div class="line">// You can find the most specific node for any given character</div>
<div class="line">let combinator = selectorParser.astSync(&quot;.a &gt; .b&quot;).atPosition(1,4);</div>
<div class="line">combinator.toString() === &quot; &gt; &quot;;</div>
<div class="line">// You can check if a node includes a specific character</div>
<div class="line">// Whitespace surrounding the node that is owned by that node</div>
<div class="line">// is included in the check.</div>
<div class="line">[2,3,4,5,6].map(column =&gt; combinator.isAtPosition(1, column));</div>
<div class="line">// =&gt; [false, true, true, true, false]</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md15341"></a>
4.0.0</h1>
<p>This release has <b>BREAKING CHANGES</b> that were required to fix bugs regarding values with escape sequences. Please read carefully.</p>
<ul>
<li><b>Identifiers with escapes</b> - CSS escape sequences are now hidden from the public API by default. The normal value of a node like a class name or ID, or an aspect of a node such as attribute selector's value, is unescaped. Escapes representing Non-ascii characters are unescaped into unicode characters. For example: <span class="tt">bu\tton, .\31 00, #i\2764\FE0Fu, [attr="value is \"quoted\\"\"]&lt;/tt&gt;
  will parse respectively to the values &lt;tt&gt;button&lt;/tt&gt;, &lt;tt&gt;100&lt;/tt&gt;, &lt;tt&gt;i❤️u&lt;/tt&gt;, &lt;tt&gt;value is \"quoted\"&lt;/tt&gt;.
  The original escape sequences for these values can be found in the corresponding property name
  in &lt;tt&gt;node.raws&lt;/tt&gt;. Where possible, deprecation warnings were added, but the nature
  of escape handling makes it impossible to detect what is escaped or not. Our expectation is
  that most users are neither expecting nor handling escape sequences in their use of this library,
  and so for them, this is a bug fix. Users who are taking care to handle escapes correctly can
  now update their code to remove the escape handling and let us do it for them.

* &lt;strong&gt;Mutating values with escapes&lt;/strong&gt; - When you make an update to a node property that has escape handling
  The value is assumed to be unescaped, and any special characters are escaped automatically and
  the corresponding &lt;tt&gt;raws&lt;/tt&gt; value is immediately updated. This can result in changes to the original
  escape format. Where the exact value of the escape sequence is important there are methods that
  allow both values to be set in conjunction. There are a number of new convenience methods for
  manipulating values that involve escapes, especially for attributes values where the quote mark
  is involved. See https://github.com/postcss/postcss-selector-parser/pull/133 for an extensive
  write-up on these changes.


&lt;strong&gt;Upgrade/API Example&lt;/strong&gt;

In &lt;tt&gt;3.x&lt;/tt&gt; there was no unescape handling and internal consistency of several properties was the caller's job to maintain. It was very easy for the developer
to create a CSS file that did not parse correctly when some types of values
were in use.

@icode{js} 
const selectorParser = require("postcss-selector-parser");
let attr = selectorParser.attribute({attribute: "id", operator: "=", value: "a-value"});
attr.value; // =&gt; "a-value"
attr.toString(); // =&gt; [id=a-value]
// Add quotes to an attribute's value.
// All these values have to be set by the caller to be consistent:
// no internal consistency is maintained.
attr.raws.unquoted = attr.value
attr.value = "'" + attr.value + "'";
attr.value; // =&gt; "'a-value'"
attr.quoted = true;
attr.toString();  // =&gt; "[id='a-value']"
@endicode 

In &lt;tt&gt;4.0&lt;/tt&gt; there is a convenient API for setting and mutating values
that may need escaping. Especially for attributes.

@icode{js} 
const selectorParser = require("postcss-selector-parser");

// The constructor requires you specify the exact escape sequence
let className = selectorParser.className({value: "illegal class name", raws: {value: "illegal\ class\ name"}});
className.toString(); // =&gt; '.illegal\\ class\\ name'

// So it's better to set the value as a property
className = selectorParser.className();
// Most properties that deal with identifiers work like this
className.value = "escape for me";
className.value; // =&gt; 'escape for me'
className.toString(); // =&gt; '.escape\\ for\\ me'

// emoji and all non-ascii are escaped to ensure it works in every css file.
className.value = "😱🦄😍";
className.value; // =&gt; '😱🦄😍'
className.toString(); // =&gt; '.\\1F631\\1F984\\1F60D'

// you can control the escape sequence if you want, or do bad bad things
className.setPropertyAndEscape('value', 'xxxx', 'yyyy');
className.value; // =&gt; "xxxx"
className.toString(); // =&gt; ".yyyy"

// Pass a value directly through to the css output without escaping it. 
className.setPropertyWithoutEscape('value', '$REPLACE_ME$');
className.value; // =&gt; "$REPLACE_ME$"
className.toString(); // =&gt; ".$REPLACE_ME$"

// The biggest changes are to the Attribute class
// passing quoteMark explicitly is required to avoid a deprecation warning.
let attr = selectorParser.attribute({attribute: "id", operator: "=", value: "a-value", quoteMark: null});
attr.toString(); // =&gt; "[id=a-value]"
// Get the value with quotes on it and any necessary escapes.
// This is the same as reading attr.value in 3.x.
attr.getQuotedValue(); // =&gt; "a-value";
attr.quoteMark; // =&gt; null

// Add quotes to an attribute's value.
attr.quoteMark = "'"; // This is all that's required.
attr.toString(); // =&gt; "[id='a-value']"
attr.quoted; // =&gt; true
// The value is still the same, only the quotes have changed.
attr.value; // =&gt; a-value
attr.getQuotedValue(); // =&gt; "'a-value'";

// deprecated assignment, no warning because there's no escapes
attr.value = "new-value";
// no quote mark is needed so it is removed
attr.getQuotedValue(); // =&gt; "new-value";

// deprecated assignment, 
attr.value = ""a 'single quoted' value"";
// &gt; (node:27859) DeprecationWarning: Assigning an attribute a value containing characters that might need to be escaped is deprecated. Call attribute.setValue() instead.
attr.getQuotedValue(); // =&gt; '"a \'single quoted\' value"';
// quote mark inferred from first and last characters.
attr.quoteMark; // =&gt; '"'</span></li>
</ul>
<p><span class="tt">// setValue takes options to make manipulating the value simple.
attr.setValue('foo', {smart: true});
// foo doesn't require any escapes or quotes.
attr.toString(); // =&gt; '[id=foo]'
attr.quoteMark; // =&gt; null</span></p>
<p><span class="tt">// An explicit quote mark can be specified
attr.setValue('foo', {quoteMark: '"'});
attr.toString(); // =&gt; '[id="foo"]'</span></p>
<p><span class="tt">// preserves quote mark by default
attr.setValue('bar');
attr.toString(); // =&gt; '[id="bar"]'
attr.quoteMark = null;
attr.toString(); // =&gt; '[id=bar]'</span></p>
<p><span class="tt">// with no arguments, it preserves quote mark even when it's not a great idea
attr.setValue('a value <br  />
 that should be quoted');
attr.toString(); // =&gt; '[id=a\ value\ \A\ that\ should\ be\ quoted]'</span></p>
<p><span class="tt">// smart preservation with a specified default
attr.setValue('a value <br  />
 that should be quoted', {smart: true, preferCurrentQuoteMark: true, quoteMark: "'"});
// =&gt; "[id='a value \\A  that should be quoted']"
attr.quoteMark = '"';
// =&gt; '[id="a value \\A  that should be quoted"]'</span></p>
<p><span class="tt">// this keeps double quotes because it wants to quote the value and the existing value has double quotes.
attr.setValue('this should be quoted', {smart: true, preferCurrentQuoteMark: true, quoteMark: "'"});
// =&gt; '[id="this should be quoted"]'</span></p>
<p><span class="tt">// picks single quotes because the value has double quotes
attr.setValue('a "double quoted" value', {smart: true, preferCurrentQuoteMark: true, quoteMark: "'"});
// =&gt; "[id='a "double quoted" value']"</span></p>
<p><span class="tt">// setPropertyAndEscape lets you do anything you want. Even things that are a bad idea and illegal.
attr.setPropertyAndEscape('value', 'xxxx', 'the password is 42');
attr.value; // =&gt; "xxxx"
attr.toString(); // =&gt; "[id=the password is 42]"</span></p>
<p><span class="tt">// Pass a value directly through to the css output without escaping it. 
attr.setPropertyWithoutEscape('value', '$REPLACEMENT$');
attr.value; // =&gt; "$REPLACEMENT$"
attr.toString(); // =&gt; "[id=$REPLACEMENT$]"
</span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15342"></a>
<span class="tt">3.1.2</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Fix: Removed dot-prop dependency since it's no longer written in es5.</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15343"></a>
<span class="tt">3.1.1</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Fix: typescript definitions weren't in the published package.</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15344"></a>
<span class="tt">3.1.0</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Fixed numerous bugs in attribute nodes relating to the handling of comments
  and whitespace. There's significant changes to <span class="tt">attrNode.spaces</span> and <span class="tt">attrNode.raws</span> since the <span class="tt">3.0.0</span> release.</li>
<li>Added <span class="tt">Attribute#offsetOf(part)</span> to get the offset location of attribute parts like <span class="tt">"operator"</span> and <span class="tt">"value"</span>. This is most often added to <span class="tt">Attribute#sourceIndex</span> for error reporting.</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15345"></a>
<span class="tt">3.0.0</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></span></p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md15346"></a>
<span class="tt">Breaking changes</span></h2>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Some tweaks to the tokenizer/attribute selector parsing mean that whitespace
  locations might be slightly different to the 2.x code.</li>
<li>Better attribute selector parsing with more validation; postcss-selector-parser
  no longer uses regular expressions to parse attribute selectors.</li>
<li>Added an async API (thanks to @jacobp100); the default <span class="tt">process</span> API is now async, and the sync API is now accessed through <span class="tt">processSync</span> instead.</li>
<li><span class="tt">process()</span> and <span class="tt">processSync()</span> now return a string instead of the Processor instance.</li>
<li>Tweaks handling of Less interpolation (thanks to @jwilsson).</li>
<li>Removes support for Node 0.12.</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md15347"></a>
<span class="tt">Other changes</span></h2>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li><span class="tt">ast()</span> and <span class="tt">astSync()</span> methods have been added to the <span class="tt">Processor</span>. These return the <span class="tt">Root</span> node of the selectors after processing them.</li>
<li><span class="tt">transform()</span> and <span class="tt">transformSync()</span> methods have been added to the <span class="tt">Processor</span>. These return the value returned by the processor callback after processing the selectors.</li>
<li>Set the parent when inserting a node (thanks to @chriseppstein).</li>
<li>Correctly adjust indices when using insertBefore/insertAfter (thanks to @tivac).</li>
<li>Fixes handling of namespaces with qualified tag selectors.</li>
<li><span class="tt">process</span>, <span class="tt">ast</span> and <span class="tt">transform</span> (and their sync variants) now accept a <span class="tt">postcss</span> rule node. When provided, better errors are generated and selector processing is automatically set back to the rule selector (unless the <span class="tt">updateSelector</span> option is set to <span class="tt">false</span>.)</li>
<li>Now more memory efficient when tokenizing selectors.</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md15348"></a>
<span class="tt">Upgrade hints</span></h3>
<p><span class="tt"></span></p>
<p><span class="tt">The pattern of:</span></p>
<p><span class="tt"><span class="tt">rule.selector = processor.process(rule.selector).result.toString();</span></span></p>
<p><span class="tt">is now:</span></p>
<p><span class="tt"><span class="tt">processor.processSync(rule)</span></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15349"></a>
<span class="tt">2.2.3</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Resolves an issue where the parser would not reduce multiple spaces between an
  ampersand and another simple selector in lossy mode (thanks to @adam-26).</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15350"></a>
<span class="tt">2.2.2</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>No longer hangs on an unescaped semicolon; instead the parser will throw
  an exception for these cases.</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15351"></a>
<span class="tt">2.2.1</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Allows a consumer to specify whitespace tokens when creating a new Node
  (thanks to @Semigradsky).</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15352"></a>
<span class="tt">2.2.0</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Added a new option to normalize whitespace when parsing the selector string
  (thanks to @adam-26).</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15353"></a>
<span class="tt">2.1.1</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Better unquoted value handling within attribute selectors
  (thanks to @evilebottnawi).</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15354"></a>
<span class="tt">2.1.0</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Added: Use string constants for all node types &amp; expose them on the <a class="el" href="acp__client_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="Main example program.">main</a>
  parser instance (thanks to @Aweary).</li>
</ul>
<p></span></p>
<p><span class="tt"># 2.0.0</span></p>
<p><span class="tt">This release contains the following breaking changes:</span></p>
<p><span class="tt"></p><ul>
<li>Renamed all <span class="tt">eachInside</span> iterators to <span class="tt">walk</span>. For example, <span class="tt">eachTag</span> is now <span class="tt">walkTags</span>, and <span class="tt">eachInside</span> is now <span class="tt">walk</span>.</li>
<li>Renamed <span class="tt">Node#removeSelf()</span> to <span class="tt">Node#remove()</span>.</li>
<li>Renamed <span class="tt">Container#remove()</span> to <span class="tt">Container#removeChild()</span>.</li>
<li>Renamed <span class="tt">Node#raw</span> to <span class="tt">Node#raws</span> (thanks to @davidtheclark).</li>
<li>Now parses <span class="tt">&amp;</span> as the <em>nesting</em> selector, rather than a <em>tag</em> selector.</li>
<li>Fixes misinterpretation of Sass interpolation (e.g. <span class="tt">#{foo}</span>) as an id selector (thanks to @davidtheclark).</li>
</ul>
<p></span></p>
<p><span class="tt">and;</span></p>
<p><span class="tt"></p><ul>
<li>Fixes parsing of attribute selectors with equals signs in them
  (e.g. <span class="tt">[data-attr="foo=bar"]</span>) (thanks to @montmanu).</li>
<li>Adds <span class="tt">quoted</span> and <span class="tt">raw.unquoted</span> properties to attribute nodes (thanks to @davidtheclark).</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15355"></a>
<span class="tt">1.3.3</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Fixes an infinite loop on <span class="tt">)</span> and <span class="tt">]</span> tokens when they had no opening pairs. Now postcss-selector-parser will throw when it encounters these lone tokens.</li>
</ul>
<p></span></p>
<p><span class="tt"># 1.3.2</span></p>
<p><span class="tt"></p><ul>
<li>Now uses plain integers rather than <span class="tt">str.charCodeAt(0)</span> for compiled builds.</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15356"></a>
<span class="tt">1.3.1</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Update flatten to v1.x (thanks to @shinnn).</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15357"></a>
<span class="tt">1.3.0</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Adds a new node type, <span class="tt">String</span>, to fix a crash on selectors such as <span class="tt">foo:bar("test")</span>.</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15358"></a>
<span class="tt">1.2.1</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Fixes a crash when the parser encountered a trailing combinator.</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15359"></a>
<span class="tt">1.2.0</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>A more descriptive error is thrown when the parser expects to find a
  pseudo-class/pseudo-element (thanks to @ashelley).</li>
<li>Adds support for line/column locations for selector nodes, as well as a
  <span class="tt">Node#sourceIndex</span> method (thanks to @davidtheclark).</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15360"></a>
<span class="tt">1.1.4</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Fixes a crash when a selector started with a <span class="tt">&gt;</span> combinator. The module will now no longer throw if a selector has a leading/trailing combinator node.</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15361"></a>
<span class="tt">1.1.3</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Fixes a crash on <span class="tt">@</span> tokens.</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15362"></a>
<span class="tt">1.1.2</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Fixes an infinite loop caused by using parentheses in a non-pseudo element
  context.</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15363"></a>
<span class="tt">1.1.1</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Fixes a crash when a backslash ended a selector string.</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15364"></a>
<span class="tt">1.1.0</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Adds support for replacing multiple nodes at once with <span class="tt">replaceWith</span> (thanks to @jonathantneal).</li>
<li>Parser no longer throws on sequential IDs and trailing commas, to support parsing of selector hacks.</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15365"></a>
<span class="tt">1.0.1</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Fixes using <span class="tt">insertAfter</span> and <span class="tt">insertBefore</span> during iteration.</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15366"></a>
<span class="tt">1.0.0</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Adds <span class="tt">clone</span> and <span class="tt">replaceWith</span> methods to nodes.</li>
<li>Adds <span class="tt">insertBefore</span> and <span class="tt">insertAfter</span> to containers.</li>
<li>Stabilises API.</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15367"></a>
<span class="tt">0.0.5</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Fixes crash on extra whitespace inside a pseudo selector's parentheses.</li>
<li>Adds sort function to the container class.</li>
<li>Enables the parser to pass its input through without transforming.</li>
<li>Iteration-safe <span class="tt">each</span> and <span class="tt">eachInside</span>.</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15368"></a>
<span class="tt">0.0.4</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Tidy up redundant duplication.</li>
<li>Fixes a bug where the parser would loop infinitely on universal selectors
  inside pseudo selectors.</li>
<li>Adds <span class="tt">length</span> getter and <span class="tt">eachInside</span>, <span class="tt">map</span>, <span class="tt">reduce</span> to the container class.</li>
<li>When a selector has been removed from the tree, the root node will no longer cast it to a string.</li>
<li>Adds node type iterators to the container class (e.g. <span class="tt">eachComment</span>).</li>
<li>Adds filter function to the container class.</li>
<li>Adds split function to the container class.</li>
<li>Create new node types by doing <span class="tt">parser.id(opts)</span> etc.</li>
<li>Adds support for pseudo classes anywhere in the selector.</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15369"></a>
<span class="tt">0.0.3</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Adds <span class="tt">next</span> and <span class="tt">prev</span> to the node class.</li>
<li>Adds <span class="tt">first</span> and <span class="tt">last</span> getters to the container class.</li>
<li>Adds <span class="tt">every</span> and <span class="tt">some</span> iterators to the container class.</li>
<li>Add <span class="tt">empty</span> alias for <span class="tt">removeAll</span>.</li>
<li>Combinators are now types of node.</li>
<li>Fixes the at method so that it is not an alias for <span class="tt">index</span>.</li>
<li>Tidy up creation of new nodes in the parser.</li>
<li>Refactors how namespaces are handled for consistency &amp; less redundant code.</li>
<li>Refactors AST to use <span class="tt">nodes</span> exclusively, and eliminates excessive nesting.</li>
<li>Fixes nested pseudo parsing.</li>
<li>Fixes whitespace parsing.</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15370"></a>
<span class="tt">0.0.2</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Adds support for namespace selectors.</li>
<li>Adds support for selectors joined by escaped spaces - such as <span class="tt">.\31\ 0</span>.</li>
</ul>
<p></span></p>
<p><span class="tt"></span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15371"></a>
<span class="tt">0.0.1</span></h1>
<p><span class="tt"></span></p>
<p><span class="tt"></p><ul>
<li>Initial release.
</li>
</ul>
<p></span></p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on <span class="timestamp"></span> for ACP - Autonomous Command Protocol by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
