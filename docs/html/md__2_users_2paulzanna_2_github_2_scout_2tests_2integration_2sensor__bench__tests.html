<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ACP - Autonomous Command Protocol: Sensor Integration Bench Tests</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ACP - Autonomous Command Protocol<span id="projectnumber">&#160;v0.3.0</span>
   </div>
   <div id="projectbrief">Portable C99 framing library with COBS, CRC16, and HMAC-SHA256 authentication</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md__2_users_2paulzanna_2_github_2_scout_2tests_2integration_2sensor__bench__tests.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Sensor Integration Bench Tests </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md9023"></a></p>
<p>Functional validation procedures for all Scout sensors on development bench.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md9024"></a>
Test Environment Setup</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md9025"></a>
Hardware Requirements</h2>
<ul>
<li>ESP32-S3 development board with Scout firmware</li>
<li>MPU-6050 IMU module (I2C address 0x68)</li>
<li>HMC5883L magnetometer module (I2C address 0x1E)</li>
<li>BMP388 barometric pressure sensor (I2C address 0x76)</li>
<li>NEO-6M GPS module (UART connection)</li>
<li>USB-C cable for serial console</li>
<li>Breadboard and jumper wires</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md9026"></a>
Software Requirements</h2>
<ul>
<li>PlatformIO with ESP32-S3 support</li>
<li>Serial terminal (screen, minicom, or VS Code terminal)</li>
<li>Python 3.x with pySerial for automated tests</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md9027"></a>
Manual Test Procedures</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md9028"></a>
1. System Boot and Sensor Detection</h2>
<p><b>Objective</b>: Verify all sensors are detected and initialized properly.</p>
<p><b>Procedure</b>:</p>
<ol type="1">
<li>Connect hardware per wiring diagram</li>
<li>Flash firmware and connect serial console</li>
<li>Reset device and monitor boot messages</li>
<li>Verify sensor initialization logs</li>
</ol>
<p><b>Expected Results</b>:</p>
<div class="fragment"><div class="line">[BOOT] Scout v1.0.0 starting...</div>
<div class="line">[I2C] Bus initialized (SDA=8, SCL=9)</div>
<div class="line">[MPU6050] Initialized successfully, WHO_AM_I=0x68</div>
<div class="line">[HMC5883L] Initialized successfully, ID_A=0x48</div>
<div class="line">[BMP388] Initialized successfully, CHIP_ID=0x50</div>
<div class="line">[GPS] UART initialized (TX=43, RX=44)</div>
<div class="line">[HEALTH] All sensors healthy at boot</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md9029"></a>
2. IMU Functional Test</h2>
<p><b>Objective</b>: Validate accelerometer and gyroscope readings.</p>
<p><b>Procedure</b>:</p>
<ol type="1">
<li>Use CLI command: <span class="tt">sensor imu</span></li>
<li>Observe readings at rest (flat horizontal)</li>
<li>Tilt device in X, Y, Z axes</li>
<li>Rotate device around each axis</li>
<li>Return to rest position</li>
</ol>
<p><b>Expected Results</b>:</p>
<ul>
<li>At rest: accel_z ≈ -1.0g, accel_x,y ≈ 0.0g</li>
<li>Gyro readings ≈ 0°/s at rest</li>
<li>Temperature reading between 20-40°C</li>
<li>Smooth value changes during movement</li>
</ul>
<p><b>Pass Criteria</b>:</p>
<ul>
<li>Acceleration magnitude ≈ 1.0g ± 0.1g</li>
<li>Gyro noise &lt; 2°/s at rest</li>
<li>No sensor timeout errors</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md9030"></a>
3. Magnetometer Functional Test</h2>
<p><b>Objective</b>: Validate 3-axis magnetic field readings and heading calculation.</p>
<p><b>Procedure</b>:</p>
<ol type="1">
<li>Use CLI command: <span class="tt">sensor mag</span></li>
<li>Rotate device horizontally 360°</li>
<li>Note heading values and magnetic field strength</li>
<li>Test near metal objects (expect interference)</li>
<li>Move away from interference</li>
</ol>
<p><b>Expected Results</b>:</p>
<ul>
<li>Heading changes smoothly 0-359°</li>
<li>Magnetic field strength 200-600 µT (varies by location)</li>
<li>Clear interference detection near metal</li>
</ul>
<p><b>Pass Criteria</b>:</p>
<ul>
<li>Heading accuracy ±5° when calibrated</li>
<li>Field strength within expected range</li>
<li>Health status degrades near interference</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md9031"></a>
4. Barometer Functional Test</h2>
<p><b>Objective</b>: Validate pressure and altitude readings.</p>
<p><b>Procedure</b>:</p>
<ol type="1">
<li>Use CLI command: <span class="tt">sensor baro</span></li>
<li>Record baseline pressure and altitude</li>
<li>Vary altitude by 1-2 meters (stairs/elevator)</li>
<li>Return to baseline position</li>
<li>Monitor for pressure spikes/noise</li>
</ol>
<p><b>Expected Results</b>:</p>
<ul>
<li>Pressure: 950-1050 hPa (sea level equivalent)</li>
<li>Altitude tracking relative changes</li>
<li>Stable readings without large spikes</li>
</ul>
<p><b>Pass Criteria</b>:</p>
<ul>
<li>Pressure noise &lt; 1 hPa</li>
<li>Altitude tracks physical changes</li>
<li>No continuous error states</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md9032"></a>
5. GPS Functional Test</h2>
<p><b>Objective</b>: Validate NMEA parsing and position acquisition.</p>
<p><b>Procedure</b>:</p>
<ol type="1">
<li>Use CLI command: <span class="tt">sensor gps</span></li>
<li>Wait for initial GPS fix (may take 30+ seconds)</li>
<li>Monitor satellite count and signal quality</li>
<li>Record position coordinates</li>
<li>Test signal loss (cover antenna)</li>
</ol>
<p><b>Expected Results</b>:</p>
<ul>
<li>TTFF (Time To First Fix) &lt; 60 seconds</li>
<li>Satellite count &gt; 4 for 3D fix</li>
<li>Position accuracy improves over time</li>
<li>Graceful handling of signal loss</li>
</ul>
<p><b>Pass Criteria</b>:</p>
<ul>
<li>Achieves 3D fix within acceptable time</li>
<li>Position stability when stationary</li>
<li>Proper fix quality reporting</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md9033"></a>
Automated Test Scripts</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md9034"></a>
Basic Sensor Poll Test</h2>
<p>Create <span class="tt">/tests/integration/scripts/sensor_poll_test.py</span>:</p>
<div class="fragment"><div class="line"><span class="comment">#!/usr/bin/env python3</span></div>
<div class="line"><span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="stringliteral">Automated sensor polling test - validates all sensors respond to CLI commands.</span></div>
<div class="line"><span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">import</span> serial</div>
<div class="line"><span class="keyword">import</span> time</div>
<div class="line"><span class="keyword">import</span> re</div>
<div class="line"><span class="keyword">import</span> sys</div>
<div class="line"> </div>
<div class="line"><span class="keyword">def </span>test_sensor_poll(port, baudrate=115200, timeout=30):</div>
<div class="line">    <span class="stringliteral">&quot;&quot;&quot;Test all sensor CLI commands and validate responses.&quot;&quot;&quot;</span></div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">try</span>:</div>
<div class="line">        ser = serial.Serial(port, baudrate, timeout=2)</div>
<div class="line">        time.sleep(2)  <span class="comment"># Allow boot to complete</span></div>
<div class="line">        </div>
<div class="line">        tests = [</div>
<div class="line">            (<span class="stringliteral">&#39;sensor imu&#39;</span>, <span class="stringliteral">r&#39;accel_x=&#39;</span>),</div>
<div class="line">            (<span class="stringliteral">&#39;sensor mag&#39;</span>, <span class="stringliteral">r&#39;mag_x=&#39;</span>),</div>
<div class="line">            (<span class="stringliteral">&#39;sensor baro&#39;</span>, <span class="stringliteral">r&#39;pressure=&#39;</span>),</div>
<div class="line">            (<span class="stringliteral">&#39;sensor gps&#39;</span>, <span class="stringliteral">r&#39;lat=&#39;</span>)</div>
<div class="line">        ]</div>
<div class="line">        </div>
<div class="line">        results = {}</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">for</span> cmd, pattern <span class="keywordflow">in</span> tests:</div>
<div class="line">            print(f<span class="stringliteral">&quot;Testing: {cmd}&quot;</span>)</div>
<div class="line">            </div>
<div class="line">            <span class="comment"># Clear buffer and send command</span></div>
<div class="line">            ser.reset_input_buffer()</div>
<div class="line">            ser.write(f<span class="stringliteral">&quot;{cmd}\r\n&quot;</span>.encode())</div>
<div class="line">            </div>
<div class="line">            <span class="comment"># Wait for response</span></div>
<div class="line">            start_time = time.time()</div>
<div class="line">            response = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line">            </div>
<div class="line">            <span class="keywordflow">while</span> time.time() - start_time &lt; 5:</div>
<div class="line">                <span class="keywordflow">if</span> ser.in_waiting:</div>
<div class="line">                    response += ser.read(ser.in_waiting).decode(<span class="stringliteral">&#39;utf-8&#39;</span>, errors=<span class="stringliteral">&#39;ignore&#39;</span>)</div>
<div class="line">                    <span class="keywordflow">if</span> pattern <span class="keywordflow">in</span> response:</div>
<div class="line">                        results[cmd] = <span class="keyword">True</span></div>
<div class="line">                        print(f<span class="stringliteral">&quot;  ✓ PASS - Found expected pattern: {pattern}&quot;</span>)</div>
<div class="line">                        <span class="keywordflow">break</span></div>
<div class="line">                time.sleep(0.1)</div>
<div class="line">            <span class="keywordflow">else</span>:</div>
<div class="line">                results[cmd] = <span class="keyword">False</span></div>
<div class="line">                print(f<span class="stringliteral">&quot;  ✗ FAIL - Pattern not found: {pattern}&quot;</span>)</div>
<div class="line">                print(f<span class="stringliteral">&quot;    Response: {response}&quot;</span>)</div>
<div class="line">        </div>
<div class="line">        ser.close()</div>
<div class="line">        <span class="keywordflow">return</span> results</div>
<div class="line">        </div>
<div class="line">    <span class="keywordflow">except</span> Exception <span class="keyword">as</span> e:</div>
<div class="line">        print(f<span class="stringliteral">&quot;Test error: {e}&quot;</span>)</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> __name__ == <span class="stringliteral">&quot;__main__&quot;</span>:</div>
<div class="line">    <span class="keywordflow">if</span> len(sys.argv) != 2:</div>
<div class="line">        print(<span class="stringliteral">&quot;Usage: python3 sensor_poll_test.py &lt;serial_port&gt;&quot;</span>)</div>
<div class="line">        print(<span class="stringliteral">&quot;Example: python3 sensor_poll_test.py /dev/ttyUSB0&quot;</span>)</div>
<div class="line">        sys.exit(1)</div>
<div class="line">    </div>
<div class="line">    port = sys.argv[1]</div>
<div class="line">    results = test_sensor_poll(port)</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> results:</div>
<div class="line">        passed = sum(results.values())</div>
<div class="line">        total = len(results)</div>
<div class="line">        print(f<span class="stringliteral">&quot;\nResults: {passed}/{total} tests passed&quot;</span>)</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">if</span> passed == total:</div>
<div class="line">            print(<span class="stringliteral">&quot;✓ ALL SENSOR TESTS PASSED&quot;</span>)</div>
<div class="line">            sys.exit(0)</div>
<div class="line">        <span class="keywordflow">else</span>:</div>
<div class="line">            print(<span class="stringliteral">&quot;✗ SOME TESTS FAILED&quot;</span>)</div>
<div class="line">            sys.exit(1)</div>
<div class="line">    <span class="keywordflow">else</span>:</div>
<div class="line">        print(<span class="stringliteral">&quot;✗ TEST EXECUTION FAILED&quot;</span>)</div>
<div class="line">        sys.exit(1)</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md9035"></a>
Health Status Validation Test</h2>
<p>Create <span class="tt">/tests/integration/scripts/health_status_test.py</span>:</p>
<div class="fragment"><div class="line"><span class="comment">#!/usr/bin/env python3</span></div>
<div class="line"><span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="stringliteral">Health status validation - tests sensor health aggregation and safety gating.</span></div>
<div class="line"><span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">import</span> serial</div>
<div class="line"><span class="keyword">import</span> time</div>
<div class="line"><span class="keyword">import</span> re</div>
<div class="line"><span class="keyword">import</span> sys</div>
<div class="line"> </div>
<div class="line"><span class="keyword">def </span>test_health_status(port, baudrate=115200):</div>
<div class="line">    <span class="stringliteral">&quot;&quot;&quot;Test health aggregation and safety status reporting.&quot;&quot;&quot;</span></div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">try</span>:</div>
<div class="line">        ser = serial.Serial(port, baudrate, timeout=2)</div>
<div class="line">        time.sleep(2)</div>
<div class="line">        </div>
<div class="line">        print(<span class="stringliteral">&quot;Testing health status aggregation...&quot;</span>)</div>
<div class="line">        </div>
<div class="line">        <span class="comment"># Test initial health status</span></div>
<div class="line">        ser.write(b<span class="stringliteral">&quot;health\r\n&quot;</span>)</div>
<div class="line">        time.sleep(1)</div>
<div class="line">        response = ser.read(ser.in_waiting).decode(<span class="stringliteral">&#39;utf-8&#39;</span>, errors=<span class="stringliteral">&#39;ignore&#39;</span>)</div>
<div class="line">        </div>
<div class="line">        <span class="comment"># Parse health status</span></div>
<div class="line">        healthy_sensors = []</div>
<div class="line">        degraded_sensors = []</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">if</span> <span class="stringliteral">&quot;IMU: healthy&quot;</span> <span class="keywordflow">in</span> response:</div>
<div class="line">            healthy_sensors.append(<span class="stringliteral">&quot;IMU&quot;</span>)</div>
<div class="line">        <span class="keywordflow">elif</span> <span class="stringliteral">&quot;IMU: degraded&quot;</span> <span class="keywordflow">in</span> response:</div>
<div class="line">            degraded_sensors.append(<span class="stringliteral">&quot;IMU&quot;</span>)</div>
<div class="line">            </div>
<div class="line">        <span class="keywordflow">if</span> <span class="stringliteral">&quot;MAG: healthy&quot;</span> <span class="keywordflow">in</span> response:</div>
<div class="line">            healthy_sensors.append(<span class="stringliteral">&quot;MAG&quot;</span>)</div>
<div class="line">        <span class="keywordflow">elif</span> <span class="stringliteral">&quot;MAG: degraded&quot;</span> <span class="keywordflow">in</span> response:</div>
<div class="line">            degraded_sensors.append(<span class="stringliteral">&quot;MAG&quot;</span>)</div>
<div class="line">            </div>
<div class="line">        <span class="keywordflow">if</span> <span class="stringliteral">&quot;BARO: healthy&quot;</span> <span class="keywordflow">in</span> response:</div>
<div class="line">            healthy_sensors.append(<span class="stringliteral">&quot;BARO&quot;</span>)</div>
<div class="line">        <span class="keywordflow">elif</span> <span class="stringliteral">&quot;BARO: degraded&quot;</span> <span class="keywordflow">in</span> response:</div>
<div class="line">            degraded_sensors.append(<span class="stringliteral">&quot;BARO&quot;</span>)</div>
<div class="line">            </div>
<div class="line">        <span class="keywordflow">if</span> <span class="stringliteral">&quot;GPS: healthy&quot;</span> <span class="keywordflow">in</span> response:</div>
<div class="line">            healthy_sensors.append(<span class="stringliteral">&quot;GPS&quot;</span>)</div>
<div class="line">        <span class="keywordflow">elif</span> <span class="stringliteral">&quot;GPS: degraded&quot;</span> <span class="keywordflow">in</span> response:</div>
<div class="line">            degraded_sensors.append(<span class="stringliteral">&quot;GPS&quot;</span>)</div>
<div class="line">        </div>
<div class="line">        print(f<span class="stringliteral">&quot;Healthy sensors: {healthy_sensors}&quot;</span>)</div>
<div class="line">        print(f<span class="stringliteral">&quot;Degraded sensors: {degraded_sensors}&quot;</span>)</div>
<div class="line">        </div>
<div class="line">        <span class="comment"># Test arming eligibility</span></div>
<div class="line">        ser.write(b<span class="stringliteral">&quot;arm\r\n&quot;</span>)</div>
<div class="line">        time.sleep(1)</div>
<div class="line">        arm_response = ser.read(ser.in_waiting).decode(<span class="stringliteral">&#39;utf-8&#39;</span>, errors=<span class="stringliteral">&#39;ignore&#39;</span>)</div>
<div class="line">        </div>
<div class="line">        can_arm = <span class="stringliteral">&quot;Armed successfully&quot;</span> <span class="keywordflow">in</span> arm_response <span class="keywordflow">or</span> <span class="stringliteral">&quot;Already armed&quot;</span> <span class="keywordflow">in</span> arm_response</div>
<div class="line">        arm_blocked = <span class="stringliteral">&quot;Cannot arm&quot;</span> <span class="keywordflow">in</span> arm_response <span class="keywordflow">or</span> <span class="stringliteral">&quot;Health check failed&quot;</span> <span class="keywordflow">in</span> arm_response</div>
<div class="line">        </div>
<div class="line">        print(f<span class="stringliteral">&quot;Arming status: {&#39;Allowed&#39; if can_arm else &#39;Blocked&#39;}&quot;</span>)</div>
<div class="line">        </div>
<div class="line">        ser.close()</div>
<div class="line">        </div>
<div class="line">        <span class="comment"># Validate health aggregation rules</span></div>
<div class="line">        critical_degraded = any(sensor <span class="keywordflow">in</span> degraded_sensors <span class="keywordflow">for</span> sensor <span class="keywordflow">in</span> [<span class="stringliteral">&quot;IMU&quot;</span>, <span class="stringliteral">&quot;BARO&quot;</span>])</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">if</span> critical_degraded <span class="keywordflow">and</span> can_arm:</div>
<div class="line">            print(<span class="stringliteral">&quot;✗ FAIL - Should not allow arming with critical sensor degraded&quot;</span>)</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line">        <span class="keywordflow">elif</span> <span class="keywordflow">not</span> critical_degraded <span class="keywordflow">and</span> arm_blocked:</div>
<div class="line">            print(<span class="stringliteral">&quot;✗ FAIL - Should allow arming with all critical sensors healthy&quot;</span>)</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line">        <span class="keywordflow">else</span>:</div>
<div class="line">            print(<span class="stringliteral">&quot;✓ PASS - Health gating working correctly&quot;</span>)</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line">            </div>
<div class="line">    <span class="keywordflow">except</span> Exception <span class="keyword">as</span> e:</div>
<div class="line">        print(f<span class="stringliteral">&quot;Health test error: {e}&quot;</span>)</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> __name__ == <span class="stringliteral">&quot;__main__&quot;</span>:</div>
<div class="line">    <span class="keywordflow">if</span> len(sys.argv) != 2:</div>
<div class="line">        print(<span class="stringliteral">&quot;Usage: python3 health_status_test.py &lt;serial_port&gt;&quot;</span>)</div>
<div class="line">        sys.exit(1)</div>
<div class="line">    </div>
<div class="line">    port = sys.argv[1]</div>
<div class="line">    success = test_health_status(port)</div>
<div class="line">    sys.exit(0 <span class="keywordflow">if</span> success <span class="keywordflow">else</span> 1)</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md9036"></a>
Test Execution Checklist</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md9037"></a>
Pre-Test Setup</h2>
<ul class="check">
<li class="unchecked">Hardware connections verified per wiring diagram</li>
</ul>
<ul class="check">
<li class="unchecked">Firmware flashed successfully</li>
</ul>
<ul class="check">
<li class="unchecked">Serial console connected and responsive</li>
</ul>
<ul class="check">
<li class="unchecked">GPS antenna has clear sky view</li>
</ul>
<ul class="check">
<li class="unchecked">Test environment free from magnetic interference</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md9038"></a>
Manual Test Execution</h2>
<ul class="check">
<li class="unchecked">System boot test completed</li>
</ul>
<ul class="check">
<li class="unchecked">IMU functional test passed</li>
</ul>
<ul class="check">
<li class="unchecked">Magnetometer functional test passed</li>
</ul>
<ul class="check">
<li class="unchecked">Barometer functional test passed</li>
</ul>
<ul class="check">
<li class="unchecked">GPS functional test passed</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md9039"></a>
Automated Test Execution</h2>
<ul class="check">
<li class="unchecked">Sensor poll test script executed successfully</li>
</ul>
<ul class="check">
<li class="unchecked">Health status validation test passed</li>
</ul>
<ul class="check">
<li class="unchecked">All sensor CLI commands respond correctly</li>
</ul>
<ul class="check">
<li class="unchecked">Health aggregation rules validated</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md9040"></a>
Test Results Documentation</h2>
<ul class="check">
<li class="unchecked">All test outputs logged</li>
</ul>
<ul class="check">
<li class="unchecked">Any failures investigated and documented</li>
</ul>
<ul class="check">
<li class="unchecked">Performance metrics recorded (TTFF, accuracy, etc.)</li>
</ul>
<ul class="check">
<li class="unchecked">Hardware configuration documented</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md9041"></a>
Troubleshooting Guide</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md9042"></a>
Common Issues</h2>
<p><b>Sensor Not Detected</b></p>
<ul>
<li>Check wiring connections</li>
<li>Verify I2C pull-up resistors (10kΩ)</li>
<li>Confirm I2C address matches driver</li>
<li>Check power supply voltage (3.3V)</li>
</ul>
<p><b>Noisy Sensor Readings</b></p>
<ul>
<li>Check for loose connections</li>
<li>Verify proper grounding</li>
<li>Test away from interference sources</li>
<li>Consider additional filtering caps</li>
</ul>
<p><b>GPS No Fix</b></p>
<ul>
<li>Ensure antenna has sky view</li>
<li>Wait longer for initial fix (cold start)</li>
<li>Check UART baud rate and wiring</li>
<li>Verify NMEA sentence parsing</li>
</ul>
<p><b>Health Status Issues</b></p>
<ul>
<li>Review sensor error thresholds</li>
<li>Check health aggregation logic</li>
<li>Verify safety gating rules</li>
<li>Test with known good/bad conditions</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md9043"></a>
Performance Benchmarks</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md9044"></a>
Expected Performance Metrics</h2>
<ul>
<li><b>IMU</b>: 100Hz update rate, &lt;2°/s gyro noise</li>
<li><b>Magnetometer</b>: 10Hz update, ±5° heading accuracy</li>
<li><b>Barometer</b>: 1Hz update, ±1hPa pressure noise</li>
<li><b>GPS</b>: 1Hz update, &lt;60s TTFF, &lt;10m accuracy</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md9045"></a>
Acceptance Criteria</h2>
<p>All sensors must meet performance benchmarks and pass functional tests before integration testing proceeds to flight validation phase. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on <span class="timestamp"></span> for ACP - Autonomous Command Protocol by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
